const ALLOCATOR_VAULT = '0xe4470DD3158F7A905cDeA07260551F72d4bB0e77';
const ALLOCATOR_BUFFER = '0x065E5De3D3A08c9d14BF79Ce5A6d3D0E8794640c';
const ALM_PROXY = '0xa5139956eC99aE2e51eA39d0b57C42B6D8db0758';

const ETHEREUM_TOKENS = [
    '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48', // USDC
    '0xdAC17F958D2ee523a2206206994597C13D831ec7', // USDT
    '0x6B175474E89094C44Da98b954EedeAC495271d0F', // DAI
    '0xdC035D45d973E3EC169d2276DDab16f1e407384F', // USDS
    '0x83F20F44975D03b1b09e64809B757c47f942BEeA', // sDAI
    '0xa3931d71877C0E7a3148CB7Eb4463524FEc27fbD', // sUSDS
    '0x9D39A5DE30e57443BfF2A8307A4256c8797A3497', // sUSDe
    '0xBc65ad17c5C0a2A4D159fa5a503f4992c7B545FE', // sUSDC
    '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2', // WETH
    '0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0', // wstETH
    '0xae78736Cd615f374D3085123A210448E74Fc6393', // rETH
    '0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599', // WBTC
    '0x18084fbA666a33d37592fA2633fD49a74DD93a88', // tBTC
];

async function tvl(api) {
    const owners = [ALLOCATOR_VAULT, ALLOCATOR_BUFFER, ALM_PROXY];
    return api.sumTokens({ owners, tokens: ETHEREUM_TOKENS });
}

module.exports = {
    methodology: "TVL is calculated by summing token balances in Keel Finance's AllocatorVault, AllocatorBuffer, and ALM Proxy contracts on Ethereum.",
    ethereum: { tvl },
};
