{
  "version": "0.1.0",
  "name": "ntbundle",
  "instructions": [
    {
      "name": "initializeBundleMasterAccount",
      "accounts": [
        {
          "name": "admin",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "bundleMasterAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "changeBundleMasterAdmin",
      "accounts": [
        {
          "name": "admin",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "bundleMasterAccount",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "newAdmin",
          "type": "publicKey"
        }
      ]
    },
    {
      "name": "setBundleCreator",
      "accounts": [
        {
          "name": "admin",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "bundleMasterAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "creator",
          "isMut": false,
          "isSigner": false,
          "docs": [
            "CHECK safe as only the pubkey is read"
          ]
        },
        {
          "name": "bundleCreatorAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "allowed",
          "type": "bool"
        }
      ]
    },
    {
      "name": "initializeBundle",
      "accounts": [
        {
          "name": "creator",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "bundleCreatorAccount",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "treasuryAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "assetAddress",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleTempData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "oracleData",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "name",
          "type": {
            "array": [
              "u8",
              32
            ]
          }
        },
        {
          "name": "keeper",
          "type": "publicKey"
        },
        {
          "name": "depositFee",
          "type": "u32"
        },
        {
          "name": "withdrawalFee",
          "type": "u32"
        },
        {
          "name": "performanceFee",
          "type": "u32"
        },
        {
          "name": "managementFeeBps",
          "type": "u32"
        },
        {
          "name": "oracleBuffer",
          "type": "u64"
        },
        {
          "name": "maxDepositAmount",
          "type": "u64"
        },
        {
          "name": "withdrawalDelay",
          "type": "u64"
        },
        {
          "name": "withdrawalTMin",
          "type": "i64"
        },
        {
          "name": "withdrawalTMax",
          "type": "i64"
        },
        {
          "name": "withdrawalCurve",
          "type": "f32"
        },
        {
          "name": "permissionned",
          "type": "bool"
        }
      ]
    },
    {
      "name": "initializeBundleDepositor",
      "accounts": [
        {
          "name": "payer",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "authority",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "userBundleAccount",
          "isMut": true,
          "isSigner": false,
          "docs": [
            "each user gets one UserBundleAccount account; it will be created if it doesn't exist."
          ]
        }
      ],
      "args": []
    },
    {
      "name": "setOracleBuffer",
      "accounts": [
        {
          "name": "manager",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "oracleBuffer",
          "type": "u64"
        }
      ]
    },
    {
      "name": "setDelays",
      "accounts": [
        {
          "name": "manager",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "withdrawalDelay",
          "type": "u64"
        },
        {
          "name": "withdrawalTMin",
          "type": "i64"
        },
        {
          "name": "withdrawalTMax",
          "type": "i64"
        },
        {
          "name": "withdrawalCurve",
          "type": "f32"
        }
      ]
    },
    {
      "name": "setMaxDepositAmount",
      "accounts": [
        {
          "name": "manager",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "maxDepositAmount",
          "type": "u64"
        }
      ]
    },
    {
      "name": "setKeeper",
      "accounts": [
        {
          "name": "manager",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "newkeeper",
          "type": "publicKey"
        }
      ]
    },
    {
      "name": "addStrategy",
      "accounts": [
        {
          "name": "manager",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "strategyAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "receiverAddress",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "allocationBps",
          "type": "u32"
        }
      ]
    },
    {
      "name": "removeStrategy",
      "accounts": [
        {
          "name": "manager",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "strategyAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "receiverAddress",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "enableStrategy",
      "accounts": [
        {
          "name": "manager",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "strategyAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "receiverAddress",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "updateAllocations",
      "accounts": [
        {
          "name": "manager",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "receiverAddress",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "strategyAccount",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "newAllocationBps",
          "type": "u32"
        }
      ]
    },
    {
      "name": "changeManager",
      "accounts": [
        {
          "name": "manager",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "newManager",
          "type": "publicKey"
        }
      ]
    },
    {
      "name": "setFees",
      "accounts": [
        {
          "name": "manager",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "treasury",
          "type": "publicKey"
        },
        {
          "name": "depositFee",
          "type": "u32"
        },
        {
          "name": "withdrawalFee",
          "type": "u32"
        },
        {
          "name": "performanceFee",
          "type": "u32"
        },
        {
          "name": "managementFeeBps",
          "type": "u32"
        }
      ]
    },
    {
      "name": "updateOracle",
      "accounts": [
        {
          "name": "keeper",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleTempData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "oracleData",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "newEquity",
          "type": "u64"
        }
      ]
    },
    {
      "name": "applyFeesToUser",
      "accounts": [
        {
          "name": "keeper",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "userBundleAccountOwner",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "userBundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "oracleData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAssetAuthority",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "managerWithdraw",
      "accounts": [
        {
          "name": "manager",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "managerTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "assetAddress",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAssetAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "oracleData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAssetAuthority",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "netPendingTransactions",
      "accounts": [
        {
          "name": "keeper",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "pendingDepositTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAssetAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "assetAddress",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "pendingBundleAssetAuthority",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "oracleData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleTempData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAssetAuthority",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "requestDeposit",
      "accounts": [
        {
          "name": "user",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "userTokenAccount",
          "isMut": true,
          "isSigner": false,
          "docs": [
            "user token account (source of funds)"
          ]
        },
        {
          "name": "pendingDepositTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "treasuryAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "userBundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "assetAddress",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "oracleData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleTempData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "pendingBundleAssetAuthority",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "amount",
          "type": "u64"
        }
      ]
    },
    {
      "name": "processDeposit",
      "accounts": [
        {
          "name": "keeper",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "userBundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "pendingDepositTokenAccount",
          "isMut": true,
          "isSigner": false,
          "docs": [
            "the account holding the user's deposited asset before allocation."
          ]
        },
        {
          "name": "userBundleAccountOwner",
          "isMut": false,
          "isSigner": false,
          "docs": [
            "the owner of the pending request (for event purposes)."
          ]
        },
        {
          "name": "assetAddress",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAssetAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleTempData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "oracleData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "pendingBundleAssetAuthority",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAssetAuthority",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "refundDeposit",
      "accounts": [
        {
          "name": "keeper",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "userBundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "userBundleAccountOwner",
          "isMut": false,
          "isSigner": false,
          "docs": [
            "the owner of the pending request (for event purposes)."
          ]
        },
        {
          "name": "userTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "assetAddress",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAssetAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAssetAuthority",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleTempData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "requestWithdrawal",
      "accounts": [
        {
          "name": "user",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "userBundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "oracleData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleTempData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "rent",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "sharesAmount",
          "type": "u128"
        }
      ]
    },
    {
      "name": "processWithdrawal",
      "accounts": [
        {
          "name": "keeper",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "userBundleAccountOwner",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "userTokenAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "assetAddress",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAssetAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "pendingBundleAssetAuthority",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "userBundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "treasuryAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAssetAuthority",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleTempData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "oracleData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "systemProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "pauseDepositsWithdrawals",
      "accounts": [
        {
          "name": "keeper",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleTempData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "oracleData",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "pause",
          "type": "bool"
        }
      ]
    },
    {
      "name": "startDistribution",
      "accounts": [
        {
          "name": "keeper",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleTempData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "oracleData",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "endDistribution",
      "accounts": [
        {
          "name": "keeper",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleTempData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "oracleData",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": []
    },
    {
      "name": "performRefill",
      "accounts": [
        {
          "name": "receiverAddress",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "bundleAssetAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "receiverAta",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "assetAddress",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "strategyAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "oracleData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAssetAuthority",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        }
      ],
      "args": [
        {
          "name": "refillAmount",
          "type": "u64"
        }
      ]
    },
    {
      "name": "distributeToReceivers",
      "accounts": [
        {
          "name": "keeper",
          "isMut": true,
          "isSigner": true
        },
        {
          "name": "receiverAddress",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAssetAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "receiverAta",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "assetAddress",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "oracleData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleAssetAuthority",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "tokenProgram",
          "isMut": false,
          "isSigner": false
        },
        {
          "name": "bundleAccount",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "bundleTempData",
          "isMut": true,
          "isSigner": false
        },
        {
          "name": "strategyAccount",
          "isMut": true,
          "isSigner": false
        }
      ],
      "args": []
    }
  ],
  "accounts": [
    {
      "name": "BundleMasterAccount",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "admin",
            "type": "publicKey"
          },
          {
            "name": "padding",
            "type": {
              "array": [
                "u8",
                96
              ]
            }
          }
        ]
      }
    },
    {
      "name": "BundleCreatorAccount",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "allowed",
            "type": "bool"
          },
          {
            "name": "padding",
            "type": {
              "array": [
                "u8",
                64
              ]
            }
          }
        ]
      }
    },
    {
      "name": "UserBundleAccount",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "owner",
            "type": "publicKey"
          },
          {
            "name": "lastDepositTimestamp",
            "type": "i64"
          },
          {
            "name": "shares",
            "type": "u128"
          },
          {
            "name": "pendingDeposit",
            "type": "u64"
          },
          {
            "name": "pendingShares",
            "type": "u128"
          },
          {
            "name": "estimatedPendingWithdrawalValue",
            "type": "u64"
          },
          {
            "name": "withdrawalAvailableTimestamp",
            "type": "i64"
          },
          {
            "name": "lastWithdrawalProcessTimestamp",
            "type": "i64"
          },
          {
            "name": "lastHighWaterMark",
            "type": "u128"
          },
          {
            "name": "hwmPerShare",
            "type": "u128"
          },
          {
            "name": "lastManagementFeeTimestamp",
            "type": "i64"
          },
          {
            "name": "netDeposits",
            "type": "i128"
          },
          {
            "name": "totalFeeCharged",
            "type": "u64"
          },
          {
            "name": "padding",
            "type": {
              "array": [
                "u8",
                264
              ]
            }
          }
        ]
      }
    },
    {
      "name": "OracleData",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "averageExternalEquity",
            "type": "u64"
          },
          {
            "name": "lastUpdateTime",
            "type": "i64"
          },
          {
            "name": "padding",
            "type": {
              "array": [
                "u8",
                64
              ]
            }
          }
        ]
      }
    },
    {
      "name": "Strategy",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "receiverAddress",
            "type": "publicKey"
          },
          {
            "name": "allocationBps",
            "type": "u32"
          },
          {
            "name": "allowed",
            "type": "bool"
          },
          {
            "name": "padding",
            "type": {
              "array": [
                "u8",
                96
              ]
            }
          }
        ]
      }
    },
    {
      "name": "BundleTempData",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "cumulativePendingDeposits",
            "type": "u64"
          },
          {
            "name": "pendingDepositsCounter",
            "type": "u64"
          },
          {
            "name": "pendingWithdrawalsCounter",
            "type": "u64"
          },
          {
            "name": "pendingLockedWithdrawalsCounter",
            "type": "u64"
          },
          {
            "name": "lastTotalSharesMinted",
            "type": "u128"
          },
          {
            "name": "lastNettingTimestamp",
            "type": "i64"
          },
          {
            "name": "isNettingDone",
            "type": "bool"
          },
          {
            "name": "distributionBaseAmount",
            "type": "u64"
          },
          {
            "name": "isDistributionStarted",
            "type": "bool"
          },
          {
            "name": "pausedDepositsWithdrawals",
            "type": "bool"
          },
          {
            "name": "leftToDistribute",
            "type": "u64"
          },
          {
            "name": "padding",
            "type": {
              "array": [
                "u8",
                184
              ]
            }
          }
        ]
      }
    },
    {
      "name": "Bundle",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "name",
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "manager",
            "type": "publicKey"
          },
          {
            "name": "keeper",
            "type": "publicKey"
          },
          {
            "name": "treasuryAccount",
            "type": "publicKey"
          },
          {
            "name": "allocatedReceivers",
            "type": {
              "vec": "publicKey"
            }
          },
          {
            "name": "bundleUnderlyingBalance",
            "type": "u64"
          },
          {
            "name": "maxDepositAmount",
            "type": "u64"
          },
          {
            "name": "withdrawalDelay",
            "type": "u64"
          },
          {
            "name": "performanceFee",
            "type": "u32"
          },
          {
            "name": "managementFeeBps",
            "type": "u32"
          },
          {
            "name": "depositFee",
            "type": "u32"
          },
          {
            "name": "withdrawalFee",
            "type": "u32"
          },
          {
            "name": "managerPfeeShares",
            "type": "u128"
          },
          {
            "name": "currentAllocationBps",
            "type": "u32"
          },
          {
            "name": "oracleBuffer",
            "type": "u64"
          },
          {
            "name": "totalShares",
            "type": "u128"
          },
          {
            "name": "assetPrecision",
            "type": "u64"
          },
          {
            "name": "assetAddress",
            "type": "publicKey"
          },
          {
            "name": "assetDecimals",
            "type": "u8"
          },
          {
            "name": "withdrawalTMin",
            "type": "i64"
          },
          {
            "name": "withdrawalTMax",
            "type": "i64"
          },
          {
            "name": "withdrawalCurve",
            "type": "f32"
          },
          {
            "name": "permissionned",
            "type": "bool"
          },
          {
            "name": "managerMfeeShares",
            "type": "u128"
          },
          {
            "name": "padding",
            "type": {
              "array": [
                "u8",
                255
              ]
            }
          }
        ]
      }
    }
  ],
  "events": [
    {
      "name": "BundleDepositorInitialized",
      "fields": [
        {
          "name": "bundleDepositor",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "BundleMasterAccountInitialized",
      "fields": [
        {
          "name": "admin",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "BundleMasterAdminChanged",
      "fields": [
        {
          "name": "newAdmin",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "BundleCreatorAccountChanged",
      "fields": [
        {
          "name": "creator",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "allowed",
          "type": "bool",
          "index": false
        }
      ]
    },
    {
      "name": "NettingCompleted",
      "fields": [
        {
          "name": "timestamp",
          "type": "i64",
          "index": false
        }
      ]
    },
    {
      "name": "RefundedDeposit",
      "fields": [
        {
          "name": "user",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "amount",
          "type": "u64",
          "index": false
        },
        {
          "name": "timestamp",
          "type": "i64",
          "index": false
        },
        {
          "name": "bundleAccountKey",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "ChargedFeesToUser",
      "fields": [
        {
          "name": "totalFeeShares",
          "type": "u128",
          "index": false
        },
        {
          "name": "totalFeeValue",
          "type": "u64",
          "index": false
        },
        {
          "name": "managementFeeShares",
          "type": "u128",
          "index": false
        },
        {
          "name": "performanceFeeShares",
          "type": "u128",
          "index": false
        },
        {
          "name": "sharePrice",
          "type": "u128",
          "index": false
        },
        {
          "name": "bundleAccountKey",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "WithdrawnFromDriftVault",
      "fields": [
        {
          "name": "amount",
          "type": "u64",
          "index": false
        },
        {
          "name": "from",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "to",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "timestamp",
          "type": "i64",
          "index": false
        }
      ]
    },
    {
      "name": "RequestedWithdrawalToDriftVault",
      "fields": [
        {
          "name": "amount",
          "type": "u64",
          "index": false
        },
        {
          "name": "from",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "to",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "timestamp",
          "type": "i64",
          "index": false
        }
      ]
    },
    {
      "name": "DepositedToDriftVault",
      "fields": [
        {
          "name": "amount",
          "type": "u64",
          "index": false
        },
        {
          "name": "from",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "to",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "timestamp",
          "type": "i64",
          "index": false
        }
      ]
    },
    {
      "name": "InitializedNewVaultDepositor",
      "fields": [
        {
          "name": "vault",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "vaultDepositor",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "keeper",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "OracleUpdated",
      "fields": [
        {
          "name": "averageExternalEquity",
          "type": "u64",
          "index": false
        }
      ]
    },
    {
      "name": "DistributionEnded",
      "fields": [
        {
          "name": "amount",
          "type": "u64",
          "index": false
        },
        {
          "name": "timestamp",
          "type": "i64",
          "index": false
        }
      ]
    },
    {
      "name": "DistributionStarted",
      "fields": [
        {
          "name": "amount",
          "type": "u64",
          "index": false
        },
        {
          "name": "timestamp",
          "type": "i64",
          "index": false
        }
      ]
    },
    {
      "name": "NewManagerSet",
      "fields": [
        {
          "name": "manager",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "NewKeeperSet",
      "fields": [
        {
          "name": "keeper",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "InitializedVault",
      "fields": [
        {
          "name": "manager",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "InitializedReceivers",
      "fields": [
        {
          "name": "manager",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "AuthorizedReceiverAdded",
      "fields": [
        {
          "name": "allowed",
          "type": "bool",
          "index": false
        }
      ]
    },
    {
      "name": "AuthorizedReceiverRemoved",
      "fields": [
        {
          "name": "allowed",
          "type": "bool",
          "index": false
        }
      ]
    },
    {
      "name": "Allocated",
      "fields": [
        {
          "name": "from",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "to",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "amount",
          "type": "u64",
          "index": false
        },
        {
          "name": "timestamp",
          "type": "i64",
          "index": false
        },
        {
          "name": "bundleAccountKey",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "Redeemed",
      "fields": [
        {
          "name": "from",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "to",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "netAmount",
          "type": "u64",
          "index": false
        },
        {
          "name": "feeAmount",
          "type": "u64",
          "index": false
        },
        {
          "name": "timestamp",
          "type": "i64",
          "index": false
        },
        {
          "name": "bundleAccountKey",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "VaultNeutralFeeIncrementerSet",
      "fields": [
        {
          "name": "neutralFeeIncrementer",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "ChangedCoreParams",
      "fields": [
        {
          "name": "treasury",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "depositFee",
          "type": "u32",
          "index": false
        },
        {
          "name": "withdrawalFee",
          "type": "u32",
          "index": false
        },
        {
          "name": "performanceFee",
          "type": "u32",
          "index": false
        },
        {
          "name": "managementFeeBps",
          "type": "u32",
          "index": false
        }
      ]
    },
    {
      "name": "AssignedProfitShare",
      "fields": [
        {
          "name": "amount",
          "type": "u128",
          "index": false
        }
      ]
    },
    {
      "name": "StrategyRemoved",
      "fields": [
        {
          "name": "receiverAddress",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "StrategyEnabled",
      "fields": [
        {
          "name": "receiverAddress",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "DistributedToReceivers",
      "fields": [
        {
          "name": "amount",
          "type": "u64",
          "index": false
        },
        {
          "name": "from",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "receiver",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "timestamp",
          "type": "i64",
          "index": false
        }
      ]
    },
    {
      "name": "StrategyAdded",
      "fields": [
        {
          "name": "receiverAddress",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "allocationBps",
          "type": "u32",
          "index": false
        }
      ]
    },
    {
      "name": "AllocationsUpdated",
      "fields": [
        {
          "name": "receiverAddress",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "allocationBps",
          "type": "u32",
          "index": false
        }
      ]
    },
    {
      "name": "Refilled",
      "fields": [
        {
          "name": "from",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "refillValue",
          "type": "u64",
          "index": false
        },
        {
          "name": "timestamp",
          "type": "i64",
          "index": false
        }
      ]
    },
    {
      "name": "DepositRequested",
      "fields": [
        {
          "name": "user",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "amount",
          "type": "u64",
          "index": false
        },
        {
          "name": "timestamp",
          "type": "i64",
          "index": false
        },
        {
          "name": "bundleAccountKey",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "toppingUp",
          "type": "bool",
          "index": false
        }
      ]
    },
    {
      "name": "WithdrawalRequested",
      "fields": [
        {
          "name": "user",
          "type": "publicKey",
          "index": false
        },
        {
          "name": "amount",
          "type": "u128",
          "index": false
        },
        {
          "name": "timestamp",
          "type": "i64",
          "index": false
        },
        {
          "name": "cooldownPeriod",
          "type": "i64",
          "index": false
        },
        {
          "name": "estimatedPendingWithdrawalValue",
          "type": "u64",
          "index": false
        },
        {
          "name": "bundleAccountKey",
          "type": "publicKey",
          "index": false
        }
      ]
    },
    {
      "name": "OracleBufferSet",
      "fields": [
        {
          "name": "oracleBuffer",
          "type": "u64",
          "index": false
        }
      ]
    },
    {
      "name": "DelaysSet",
      "fields": [
        {
          "name": "withdrawalDelay",
          "type": "u64",
          "index": false
        },
        {
          "name": "withdrawalTMin",
          "type": "i64",
          "index": false
        },
        {
          "name": "withdrawalTMax",
          "type": "i64",
          "index": false
        },
        {
          "name": "withdrawalCurve",
          "type": "f32",
          "index": false
        }
      ]
    },
    {
      "name": "MaxDepositAmountSet",
      "fields": [
        {
          "name": "maxDepositAmount",
          "type": "u64",
          "index": false
        }
      ]
    },
    {
      "name": "ManagerWithdrawal",
      "fields": [
        {
          "name": "managerShares",
          "type": "u128",
          "index": false
        },
        {
          "name": "redemptionAmount",
          "type": "u64",
          "index": false
        }
      ]
    },
    {
      "name": "PausedDepositsWithdrawals",
      "fields": [
        {
          "name": "paused",
          "type": "bool",
          "index": false
        },
        {
          "name": "bundleAccountKey",
          "type": "publicKey",
          "index": false
        }
      ]
    }
  ],
  "errors": [
    {
      "code": 6000,
      "name": "InsufficientFunds",
      "msg": "Insufficient funds to process withdrawal"
    },
    {
      "code": 6001,
      "name": "AllocationAmountZero",
      "msg": "Allocation amount must be > 0"
    },
    {
      "code": 6002,
      "name": "RedemptionAmountExceeded",
      "msg": "Redemption exceeds bundle balance"
    },
    {
      "code": 6003,
      "name": "RefillAmountInvalid",
      "msg": "Refill amount must be > 0"
    },
    {
      "code": 6004,
      "name": "UnauthorizedKeeperAction",
      "msg": "Not bundle keeper"
    },
    {
      "code": 6005,
      "name": "UnauthorizedManagerAction",
      "msg": "Not bundle manager"
    },
    {
      "code": 6006,
      "name": "UnauthorizedAdminAction",
      "msg": "Not bundle admin"
    },
    {
      "code": 6007,
      "name": "UnauthorizedBundleCreator",
      "msg": "Not whitelisted bundle creator"
    },
    {
      "code": 6008,
      "name": "CallerNotNeutralFeeIncrementer",
      "msg": "Not neutral fee incrementer"
    },
    {
      "code": 6009,
      "name": "AmountMustBeBelowMax",
      "msg": "Amount above max limit"
    },
    {
      "code": 6010,
      "name": "InvalidNeutralFeeIncrementer",
      "msg": "Invalid fee incrementer"
    },
    {
      "code": 6011,
      "name": "InvalidReceiver",
      "msg": "Invalid receiver address"
    },
    {
      "code": 6012,
      "name": "MathError",
      "msg": "Math error"
    },
    {
      "code": 6013,
      "name": "InvalidAllocations",
      "msg": "Invalid allocations"
    },
    {
      "code": 6014,
      "name": "MustBeInWhitelist",
      "msg": "Not in whitelist"
    },
    {
      "code": 6015,
      "name": "DistributionAlreadyStarted",
      "msg": "Distribution already started"
    },
    {
      "code": 6016,
      "name": "DistributionNotStarted",
      "msg": "Distribution not started"
    },
    {
      "code": 6017,
      "name": "LeftToDistributeNotZero",
      "msg": "Distribution amount not zero"
    },
    {
      "code": 6018,
      "name": "ReceiverAlreadyAllocated",
      "msg": "Receiver already allocated"
    },
    {
      "code": 6019,
      "name": "RawTransferReceiver",
      "msg": "Not a raw transfer receiver"
    },
    {
      "code": 6020,
      "name": "InvalidTwapPeriod",
      "msg": "Invalid twap period"
    },
    {
      "code": 6021,
      "name": "RefillAmountExceeded",
      "msg": "Refill amount exceeded"
    },
    {
      "code": 6022,
      "name": "PodTokenTotalSupplyZero",
      "msg": "Pod token total supply is zero"
    },
    {
      "code": 6023,
      "name": "AllocationBpsGreaterThanGlobalAllocationBps",
      "msg": "Allocation bps greater than global allocation bps"
    },
    {
      "code": 6024,
      "name": "EquityOutOfBufferBound",
      "msg": "Equity out of buffer bound"
    },
    {
      "code": 6025,
      "name": "RedemptionAmountZero",
      "msg": "Redemption amount must be > 0"
    },
    {
      "code": 6026,
      "name": "PendingDepositExists",
      "msg": "Pending deposit exists"
    },
    {
      "code": 6027,
      "name": "InsufficientSharesBalance",
      "msg": "Insufficient Shares balance"
    },
    {
      "code": 6028,
      "name": "PendingWithdrawalExists",
      "msg": "Pending withdrawal exists"
    },
    {
      "code": 6029,
      "name": "PendingDepositOrWithdrawalExists",
      "msg": "Pending deposit or withdrawal exists"
    },
    {
      "code": 6030,
      "name": "NoPendingWithdrawal",
      "msg": "No pending withdrawal"
    },
    {
      "code": 6031,
      "name": "WithdrawalAlreadyProcessed",
      "msg": "Withdrawal already processed"
    },
    {
      "code": 6032,
      "name": "PendingDepositAmountZero",
      "msg": "Pending deposit amount is zero"
    },
    {
      "code": 6033,
      "name": "InsufficientBundleBalance",
      "msg": "Insufficient bundle balance"
    },
    {
      "code": 6034,
      "name": "NoPendingTransactions",
      "msg": "No pending transactions"
    },
    {
      "code": 6035,
      "name": "DepositsExtraInPendingsNotZero",
      "msg": "Deposits extra in pendings not zero"
    },
    {
      "code": 6036,
      "name": "PendingTransactionsExist",
      "msg": "Pending transactions exist"
    },
    {
      "code": 6037,
      "name": "ManagerSharesZero",
      "msg": "Manager shares is zero"
    },
    {
      "code": 6038,
      "name": "PausedDepositsWithdrawals",
      "msg": "Paused deposits withdrawals"
    },
    {
      "code": 6039,
      "name": "UnpausedDepositsWithdrawals",
      "msg": "Unpaused deposits withdrawals"
    },
    {
      "code": 6040,
      "name": "NettingNotDone",
      "msg": "Netting not done"
    },
    {
      "code": 6041,
      "name": "NettingAlreadyDone",
      "msg": "Netting already done"
    },
    {
      "code": 6042,
      "name": "OracleNotUpdated",
      "msg": "Oracle not updated"
    },
    {
      "code": 6043,
      "name": "MaxDepositAmountExceeded",
      "msg": "Max deposit amount exceeded"
    },
    {
      "code": 6044,
      "name": "TotalAssetExceedNewMaxDepositAmount",
      "msg": "Total asset exceed new max deposit amount"
    },
    {
      "code": 6045,
      "name": "AllocationBpsIsZero",
      "msg": "Allocation bps is zero"
    },
    {
      "code": 6046,
      "name": "DepositAmountZero",
      "msg": "Deposit amount is zero"
    },
    {
      "code": 6047,
      "name": "InvalidWithdrawalDelay",
      "msg": "Invalid withdrawal delay"
    },
    {
      "code": 6048,
      "name": "InvalidWithdrawalCooldownPeriod",
      "msg": "Invalid withdrawal cooldown period"
    },
    {
      "code": 6049,
      "name": "InvalidOracleBuffer",
      "msg": "Invalid oracle buffer"
    },
    {
      "code": 6050,
      "name": "ExcessivePerformanceFee",
      "msg": "Excessive performance fee"
    },
    {
      "code": 6051,
      "name": "ExcessiveManagementFee",
      "msg": "Excessive management fee"
    },
    {
      "code": 6052,
      "name": "ExcessiveDepositFee",
      "msg": "Excessive deposit fee"
    },
    {
      "code": 6053,
      "name": "ExcessiveWithdrawFee",
      "msg": "Excessive withdraw fee"
    },
    {
      "code": 6054,
      "name": "WithdrawalDelayNotMet",
      "msg": "Withdrawal delay not met"
    },
    {
      "code": 6055,
      "name": "InvalidAssetPrecision",
      "msg": "Invalid asset precision"
    },
    {
      "code": 6056,
      "name": "InvalidAssetAddress",
      "msg": "Invalid asset address"
    },
    {
      "code": 6057,
      "name": "InvalidPermissionnedDepositor",
      "msg": "Invalid permissionned depositor"
    },
    {
      "code": 6058,
      "name": "PayerNotAuthority",
      "msg": "Payer is not the authority"
    },
    {
      "code": 6059,
      "name": "StrategyAlreadyEnabled",
      "msg": "Strategy is already enabled"
    },
    {
      "code": 6060,
      "name": "StrategyDisabled",
      "msg": "Strategy is disabled"
    }
  ]
}
