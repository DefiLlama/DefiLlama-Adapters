const config = {
  ethereum: {
    mellowLrtVaults: [
      '0xBEEF69Ac7870777598A04B2bd4771c71212E6aBc',
      '0x84631c0d0081FDe56DeB72F6DE77abBbF6A9f93a',
      '0x5fD13359Ba15A84B76f7F87568309040176167cd',
      '0x7a4EffD87C2f3C55CA251080b1343b605f327E3a',
      '0xc65433845ecD16688eda196497FA9130d6C47Bd8',
      '0x82f5104b23FF2FA54C2345F821dAc9369e9E0B26',
      '0x49cd586dd9BA227Be9654C735A659a1dB08232a9',
      '0x82dc3260f599f4fC4307209A1122B6eAa007163b',
      '0xd6E09a5e6D719d1c881579C9C8670a210437931b',
      '0x8c9532a60E0E7C6BbD2B2c1303F63aCE1c3E9811',
      '0x5E362eb2c0706Bd1d134689eC75176018385430B',
      '0x7F43fDe12A40dE708d908Fb3b9BFB8540d9Ce444',
      '0x3a828C183b3F382d030136C824844Ea30145b4c7',
      '0x64047dD3288276d70A4F8B5Df54668c8403f877F',
      '0x7b31F008c48EFb65da78eA0f255EE424af855249',
      '0x4f3Cc6359364004b245ad5bE36E6ad4e805dC961',
      '0x375A8eE22280076610cA2B4348d37cB1bEEBeba0',
      '0xcC36e5272c422BEE9A8144cD2493Ac472082eBaD',
    ],
    simpleLrtVaults: [
      '0xBEEF69Ac7870777598A04B2bd4771c71212E6aBc',
      '0x84631c0d0081FDe56DeB72F6DE77abBbF6A9f93a',
      '0x5fD13359Ba15A84B76f7F87568309040176167cd',
      '0x7a4EffD87C2f3C55CA251080b1343b605f327E3a',
      '0xc65433845ecD16688eda196497FA9130d6C47Bd8',
      '0x82f5104b23FF2FA54C2345F821dAc9369e9E0B26',
      '0x49cd586dd9BA227Be9654C735A659a1dB08232a9',
      '0x82dc3260f599f4fC4307209A1122B6eAa007163b',
      '0xd6E09a5e6D719d1c881579C9C8670a210437931b',
      '0x8c9532a60E0E7C6BbD2B2c1303F63aCE1c3E9811',
      '0x7F43fDe12A40dE708d908Fb3b9BFB8540d9Ce444',
      '0x3a828C183b3F382d030136C824844Ea30145b4c7',
      '0x64047dD3288276d70A4F8B5Df54668c8403f877F',
      '0x7b31F008c48EFb65da78eA0f255EE424af855249',
      '0x4f3Cc6359364004b245ad5bE36E6ad4e805dC961',
      '0x375A8eE22280076610cA2B4348d37cB1bEEBeba0',
      '0xcC36e5272c422BEE9A8144cD2493Ac472082eBaD',
      '0xE4357bDAE017726eE5E83Db3443bcd269BbF125d',
      '0x24183535a24CF0272841B05047A26e200fFAB696',
      '0xB908c9FE885369643adB5FBA4407d52bD726c72d',
      '0x08F39b3d75712148dacDB2669C3EAcc7F1152547',
      '0x4d12fA40e9608298be8F62Bd3627C152d8566B49',
      '0x1EC4C1f8CDd7cb2Da5903701bFbD64f03ed33244',
      '0x73D596efEAe0A6833079e4fc999FD5ceE55770A5',
      '0x1af14EBC81e8F92E0DA13D2912091d556a4Ac47B',
      '0x0F37f1ff51Fc2f8a9907eF3e226A12fDC47de4aD',
      '0x70558848f6b31AE03AD5a25868cD3d25E0fE8506',
      '0xb11C95eeB53FF748B6Dd4e2F9f4294F8F4030aF0',
      '0xCeC15B365DC06Fac54114d8195B0253FffB9740F',
      '0x6a834527b3a99ebB48A9C57A4d7843a028e89823',
      '0x8f4478a6B0f049cB527EFECca6E1b23006B8812f',
      '0x9707f14B6c8200CBf6c6F2c5498D1D0019A5f15A',
      '0x8b0e80716c4be087C271E964E0bDc7780d32A2E8',
      '0x62F0BAf53959AF18Cab47082f5aB58A5B93e041C',
      '0x4C797D53f4772325A8aDFd509F13A2d60Daa7d02',
      '0x54f506Bd8cC4838B42FB7640F0C811713f1d00Fb',
      '0x2759E4741b370506BE2ccEf898960108e98f2faf',
      '0x4C690C311d8A5aa16eC2a595D4ea3928a73C48d6',
      '0x653c719E10cF65a7b902d2ba63d59FbE52D33184',
      '0xE1C01ebE1B65034F1e4dD7F65D5A6eC05233C5ec',
      '0xF575F1C3DAd6B47f2045015baE313cA885921C8B',
      '0xeDB7FA2aD67974C309c14Bb3610eE2E6703B5C04',
      '0xcAfC35fB68DFCD6AF2BC264E687c6c0279284068',
      '0xD024d4e1B0ac157aa5BDFDF96388e8dc9a43b19f',
      '0x2818464883d4EfA130D25D414B6037570c489a7C',
      '0x883F81511Dae16713b2255B284bad333cd3B7913',
      '0xf785a3637Fb8DC057a2a23c925e83859Ef212c8d',
      '0xb2Bb0d53Fff7FF771855ad43F80c769860F627bD',
      '0x7DD12E437C226018A374Bfa2BdAf48340B9942bC',
      '0xf08e422d2986FEB7a1d798C92E043d13199EddF2',
      '0x4b8b426D1a934b9C78f139526dc74249d40960ea',
    ]
  },
  lisk: {
    simpleLrtVaults: [
      '0x1b10E2270780858923cdBbC9B5423e29fffD1A44',
      '0xa67E8B2E43B70D98E1896D3f9d563f3ABdB8Adcd',
      '0x8cf94b5A37b1835D634b7a3e6b1EE02Ce7F0CD30',
    ]
  }
}

module.exports = {
  doublecounted: true,
};

Object.keys(config).forEach(chain => {
  const { mellowLrtVaults, simpleLrtVaults } = config[chain]
  module.exports[chain] = {
    tvl: async (api) => {
      if (mellowLrtVaults != null && mellowLrtVaults.length > 0) {
        const mellowLrtTvl = await api.multiCall({ abi: 'function underlyingTvl() public view returns (address[] tokens, uint256[] values)', calls: mellowLrtVaults, permitFailure: true })
        mellowLrtTvl.forEach((i) => {
          if (!i) return;
          const { tokens, values } = i
          api.add(tokens, values)
        })
      }
      if (simpleLrtVaults != null && simpleLrtVaults.length > 0) {
        await api.erc4626Sum({ calls: simpleLrtVaults, tokenAbi: 'address:asset', balanceAbi: 'uint256:totalAssets', permitFailure: true });
      }
    }
  }
})