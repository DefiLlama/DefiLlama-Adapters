const ADDRESSES = require('../helper/coreAssets.json');
const { sumTokens2 } = require('../helper/unwrapLPs');

// Chip/OFTChipAdapter contracts custody original tokens 1:1.
// Track original token balances held by each contract.
// Format: [originalToken, chipContract]
const config = {
  sonic: [
    [ADDRESSES.sonic.wS, '0x0e7a7a477ab4dDFB2d7a500D33c38A19372a70Fc'],                   // wS
    ['0x005851f943ee2957b1748957f26319e4f9edebc1', '0x4461913eCa88EDE2d76B576C8fA5D08535bb714A'], // AG
    [ADDRESSES.sonic.USDC_e, '0xb02bD75a0814585ba7c4d5a1C421b092aDF96da0'],                 // USDC
    ['0xbf5899166ac476370b3117c9256b7fc45624f4ea', '0x8A5e46c8dE8c301201af475DbEF7cF4fA6Cc71F2'], // GFI
    ['0x7A0C53F7eb34C5BC8B01691723669adA9D6CB384', '0x1444E226a93eE7228A7634D3101413a4d1AEa4bd'], // BOO
    ['0xa95ea1cfabccf0e9eb94b646cefe9ed71ff5d605', '0x443D0a82De44FDF8236D40d72A40486c804764b9'], // xBOO
    ['0xa04bc7140c26fc9bb1f36b1a604c7a5a88fb0e70', '0xb0D87B27282501E64Ffa575aaED393c373Ee24b8'], // SWPx
    [ADDRESSES.sonic.scUSD, '0x73c0EeA1faDd305d9A7e0a4c8943B16Adff0a04A'],                  // scUSD
    ['0x9F0dF7799f6FDAd409300080cfF680f5A23df4b1', '0x4A6132bb6a3c001937581822479474F2aE4C855d'], // wOS
    ['0xe6cc4D855B4fD4A9D02F46B9adae4C5EfB1764B5', '0xaec5a1f07B459c50a0dfd5001798DC8b683b6023'], // LUDWIG
    [ADDRESSES.sonic.STS, '0x5e9aAC66C5CF0d1035f9213A2De323aFcA19653a'],                    // stS
    ['0x71E99522EaD5E21CF57F1f542Dc4ad2E841F7321', '0x83E2e4ca591c7f1f77588C684A83a0b5C92Ac377'], // METRO
    ['0x6c9B3A74ae4779da5Ca999371eE8950e8DB3407f', '0x1423D2dc2a8E884b4535b349aD4B724b9a6F0FA1'], // FLY
    ['0xb4444468e444f89e1c2CAc2F1D3ee7e336cBD1f5', '0xd50995818ac9E1Fa49Eed8E560a42Bc5970A7c61'], // RZR
  ],
  boba: [
    [ADDRESSES.boba.USDC, '0xcDD339d704Fb8f35A3a2f7d9B064238D33DC7550'],                    // USDC
    [ADDRESSES.boba.BOBA, '0x9beABD8699E2306c5632C80E663dE9953e104C3f'],                    // BOBA
    ['0x52E4d8989fa8b3E1C06696e7b16DEf5d7707A0d1', '0x222a41942ac89533C77cC0c7C185E056CdA76e2e'], // bobaETH
  ],
  fantom: [
    [ADDRESSES.fantom.WFTM, '0x614aA983f54409D475aeC5D18120FECFD6320eF4'],                  // WFTM
    ['0x2F733095B80A04b38b0D10cC884524a3d09b836a', '0x194609ea1C1D77e66eaB28C48CE266A48f3bC30a'], // USDC
    ['0x5cc61a78f164885776aa610fb0fe1257df78e59b', '0x1401C2C092df468862e23502B88A8795e2e9aecf'], // SPIRIT
    ['0x05e31a691405d06708a355c029599c12d5da8b28', '0xCCC0d9d276176FED7E6918dCf99F23DCAaCFcAc5'], // FSONIC
    ['0x85dec8c4b2680793661bca91a8f129607571863d', '0xCBd1A63A84af4BAA9541331420fF98d8Fca3ba1C'], // BRUSH
    ['0x5c725631FD299703D0A74C23F89a55c6B9A0C52F', '0x089cD8AC58D9a1488b3cDfDfeb20963e7BB33732'], // POLTER
    ['0x1e2Ea3f3209D66647f959CF00627107e079B870d', '0x86fAcB048FEe156A16104531Bd36CDfF118d8107'], // fBUX
    ['0x5cF90b977C86415a53CE3B7bE13b26f6abdDfee2', '0x2c241eeFc4b61ed475d7f1DeD112df99E5De0E8F'], // fTAILS
    ['0x43f9a13675e352154f745d6402e853fecc388aa5', '0xa8ddbf9B7E307100ba689C02CC1360112d660206'], // sGOAT
    ['0x3fd3a0c85b70754efc07ac9ac0cbbdce664865a6', '0x59698CA79B8568F25294d6Eab6281667712079eE'], // EQUAL
  ],
  fuse: [
    [ADDRESSES.fuse.WFUSE, '0x962FD1B229c8c775bC2E37A8a90dac4f3C0105B7'],                   // WFUSE
    ['0x2363Df84fDb7D4ee9d4E1A15c763BB6b7177eAEe', '0x028815b56433a4AAe10087290d1Ed9Ef7437068F'], // MST
    [ADDRESSES.fuse.SFUSE, '0x707f3d554B47E17F1FDfb408FE091B39D51929CF'],                    // sFUSE
    ['0x34Ef2Cc892a88415e9f02b91BfA9c91fC0bE6bD4', '0x094DE4d315198Df981D3a20ceFc3381B2182a572'], // VOLT
  ],
  arbitrum: [
    [ADDRESSES.arbitrum.ARB, '0x094DE4d315198Df981D3a20ceFc3381B2182a572'],                  // ARB
    [ADDRESSES.celo.STEUR, '0xc5e782e2a4e2cfcb7ed454cf5a7b6aa2bb424b90'],                   // stEUR
    ['0xf5a27e55c748bcddbfea5477cb9ae924f0f7fd2e', '0xd22c72ab0f4967edb876d84773bff0b60a92e51a'], // TST
    ['0x643b34980e635719c15a2d4ce69571a258f940e9', '0x3552fE61af3F6d3235Dd1CB75402d4281d1FbaC6'], // EUROs
    ['0x894134a25a5faC1c2C26F1d8fBf05111a3CB9487', '0xBe1fa4177fBf43683434CecD5563DA6Ea00FD474'], // GRAI
    ['0x463913D3a3D3D291667D53B8325c598Eb88D3B0e', '0x1E1F546dF45A82F2a29E709C85331E3974dC26b0'], // SLIZ
    ['0xe6af844d5740b6b297b6dd7fb2ce299ee9e3d16f', '0x1E71Fad2d453dAb287Dad8CD003CA24A9d9194EA'], // SCALES
    ['0x249c48e22e95514ca975de31f473f30c2f3c0916', '0x24d6318B87ABB45B62D981693FCF25A5956F41e2'], // USDFI
    ['0x666966ef3925b1c92fa355fda9722899f3e73451', '0x2E2a9b820BDDfD54487f8d5A0Dfd5940D5Dac6A9'], // STABLE
    ['0x6B2a01A5f79dEb4c2f3c0eDa7b01DF456FbD726a', '0xCf3562bbe462A249a4b2B2a421dF00b93E081066'], // uniBTC
  ],
  optimism: [
    ['0x1db2466d9f5e10d7090e7152b68d62703a2245f0', '0xc5e782e2a4e2cfcb7ed454cf5a7b6aa2bb424b90'], // SONNE
  ],
  polygon: [
    [ADDRESSES.polygon.WMATIC_2, '0x028815b56433a4aae10087290d1ed9ef7437068f'],              // WMATIC
    ['0xa3fa99a148fa48d14ed51d610c367c61876997f1', '0x7279d1cFf1510E503B6Be64fBBAd64088034504C'], // MIMATIC
  ],
  bsc: [
    [ADDRESSES.bsc.WBNB, '0x67ac4355787fe8313D6cAfd23aEa4463704fBaeC'],                     // wBNB
    [ADDRESSES.bsc.USDT, '0x7eDb95ba0294EfD054221141FcC8f12F2Ada1129'],                      // USDT
    ['0x0782b6d8c4551B9760e74c0545a9bCD90bdc41E5', '0x3b7ed1cdf0fc64d95c0d0428b9cc99b6a9a5cb94'], // lisUSD
  ],
  mode: [
    ['0xDfc7C877a950e49D2610114102175A06C2e3167a', '0x3b7ED1cDF0Fc64d95c0D0428b9Cc99b6A9a5CB94'], // MODE
    ['0x18470019bF0E94611f15852F7e93cf5D65BC34CA', '0xD22c72aB0f4967edB876d84773BfF0b60A92e51a'], // ION
  ],
  celo: [
    [ADDRESSES.celo.CELO, '0x7279d1cFf1510E503B6Be64fBBAd64088034504C'],                    // CELO
    [ADDRESSES.celo.USDT_1, '0xA36cB6e644cCE5fB98bDa9aa538927B2c934D8fa'],                  // USDT
  ],
  zircuit: [
    ['0xfd418e42783382e86ae91e445406600ba144d162', '0xa624818151078Ccc936BF056DEf51114808BFE16'], // ZRC
  ],
  ethereum: [
    [ADDRESSES.ethereum.WEETH, '0x66Aaf6Da70dA10aC8dC024E668edcade1C8F5b44'],                // weETH
    ['0xadd353fb2e2c563383ff3272a500f3e7134dafe4', '0x3b7ED1cDF0Fc64d95c0D0428b9Cc99b6A9a5CB94'], // TUNA
  ],
};

Object.keys(config).forEach(chain => {
  module.exports[chain] = {
    tvl: (api) => sumTokens2({ api, tokensAndOwners: config[chain] }),
  };
});

// Flare TVL is tracked by projects/flamix (same chip contracts)
// linea/mantle have $0 balance
['flare', 'linea', 'mantle'].forEach(chain => {
  module.exports[chain] = { tvl: () => ({}) };
});

module.exports.methodology =
  'TVL is the sum of settlement assets locked in Lynx chip and OFTChipAdapter contracts across all supported chains.';
