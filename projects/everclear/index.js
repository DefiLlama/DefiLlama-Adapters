const { sumTokens2 } = require("../helper/unwrapLPs");

const TOKENS_BY_CHAIN = {
  ethereum: [
    "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2", // WETH
    "0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48", // USDC
    "0xdAC17F958D2ee523a2206206994597C13D831ec7", // USDT
    "0xD7D2802f6b19843ac4DfE25022771FD83b5A7464", // xPufETH
  ],
  polygon: [
    "0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619", // WETH
    "0x3c499c542cEF5E3811e1192ce70d8cC03d5c3359", // USDC
    "0xc2132d05d31c914a87c6611c10748aeb04b58e8f", // USDT
  ],
  bsc: [
    "0x2170Ed0880ac9A755fd29B2688956BD959F933F8", // WETH
    "0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d", // USDC
    "0x55d398326f99059fF775485246999027B3197955", // USDT
  ],
  avax: [
    "0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab", // WETH
    "0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E", // USDC
    "0x9702230A8Ea53601f5cD2dc00fDBc13d4dF4A8c7", // USDT
  ],
  arbitrum: [
    "0x82aF49447D8a07e3bd95BD0d56f35241523fBab1", // WETH
    "0xaf88d065e77c8cC2239327C5EDb3A432268e5831", // USDC
    "0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9", // USDT
  ],
  optimism: [
    "0x4200000000000000000000000000000000000006", // WETH
    "0x0b2C639c533813f4Aa9D7837CAf62653d097Ff85", // USDC
    "0x94b008aA00579c1307B0EF2c499aD98a8ce58e58", // USDT
  ],
  base: [
    "0x4200000000000000000000000000000000000006", // WETH
    "0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913", // USDC
    "0xfde4C96c8593536E31F229EA8f37b2ADa2699bb2", // USDT
  ],
  xdai: [
    "0x6a023ccd1ff6f2045c3309768ead9e68f978f6e1", // WETH
    "0x2a22f9c3b484c3629090feed35f17ff8f88f76f0", // USDC
    "0x4ecaba5870353805a9f068101a40e0f32ed605c6", // USDT
  ],
  unichain: [
    "0x4200000000000000000000000000000000000006", // WETH
    "0x078D782b760474a361dDA0AF3839290b0EF57AD6", // USDC
    "0x588CE4F028D8e7B53B687865d6A67b3A54C75518", // USDT
  ],
  era: [
    "0x5AEa5775959fBC2557Cc8789bC1bf90A239D9a91", // WETH
    "0x1d17CBcF0D6D143135aE902365D2E5e2A16538D4", // USDC
    "0x493257fD37EDB34451f62EDf8D2a0C418852bA4C", // USDT
  ],
  mantle: [
    "0xdeaddeaddeaddeaddeaddeaddeaddeaddead1111", // WETH
    "0x09Bc4E0D864854c6aFB6eB9A9cdF58aC190D0dF9", // USDC
  ],
  apechain: [
    "0xcF800F4948D16F23333508191B1B1591daF70438", // WETH
    "0x6234E5ef39B12EFdFcbd99dd7F452F27F3fEAE3b", // xPufETH
  ],
  scroll: [
    "0x5300000000000000000000000000000000000004", // WETH
    "0x06eFdBFf2a14a7c8E15944D1F4A48F9F95F663A4", // USDC
    "0xf55bec9cafdbe8730f096aa55dad6d22d44099df", // USDT
  ],
  ink: [
    "0x4200000000000000000000000000000000000006", // WETH
    "0x0200C29006150606B650577BBE7B6248F58470c1", // USDT
  ],
  berachain: [
    "0x2F6F07CDcf3588944Bf4C42aC74ff24bF56e7590", // WETH
  ],
  ronin: [
    "0xc99a6A985eD2Cac1ef41640596C5A5f9F4E19Ef5", // WETH 
    "0x0B7007c13325C48911F73A2daD5FA5dCBf808aDc", // USDC
  ],
  mode: [
    "0x4200000000000000000000000000000000000006", // WETH
    "0xf0F161fDA2712DB8b566946122a5af183995e2eD", // USDT 
    "0xd988097fb8612cc24eeC14542bC03424c656005f", // USDC
  ],
  zircuit: [
    "0x9346A5043C590133FE900aec643D9622EDddBA57", // xPufETH
  ],
  linea: [
    "0xa219439258ca9da29e9cc4ce5596924745e12b93", // USDT
    "0x176211869cA2b568f2A7D4EE941E073a821EE1ff", // USDC
    "0xe5d7c2a44ffddf6b295a15c148167daaaf5cf34f", // WETH
  ],
  blast: [
    "0x4300000000000000000000000000000000000004", // WETH
  ],
  taiko: [
    "0x2DEF195713CF4a606B49D07E520e22C17899a736", // USDT
    "0x07d83526730c7438048D55A4fc0b850e2aaB6f0b", // USDC
    "0xA51894664A773981C6C112C43ce576f315d5b1B6", // WETH
  ],
  sonic: [
    "0x309C92261178fA0CF748A855e90Ae73FDb79EBc7", // WETH
  ],
};

// ---- Replace these with actual spoke addresses ----
const SPOKES_BY_CHAIN = {
  ethereum: ["0xa05A3380889115bf313f1Db9d5f335157Be4D816", "0x9ADA72CCbAfe94248aFaDE6B604D1bEAacc899A7"], //1
  polygon: ["0x7189C59e245135696bFd2906b56607755F84F3fD", "0x26CFF54f11608Cd3060408690803AB4a43f462f2"], //137
  bsc: ["0xa05A3380889115bf313f1Db9d5f335157Be4D816", "0x9ADA72CCbAfe94248aFaDE6B604D1bEAacc899A7"], //56
  avax: ["0x9aA2Ecad5C77dfcB4f34893993f313ec4a370460", "0x7EB63a646721de65eBa79ffe91c55DCE52b73c12"], //43114
  arbitrum: ["0xa05A3380889115bf313f1Db9d5f335157Be4D816", "0x9ADA72CCbAfe94248aFaDE6B604D1bEAacc899A7"], //42161
  optimism: ["0xa05A3380889115bf313f1Db9d5f335157Be4D816", "0x9ADA72CCbAfe94248aFaDE6B604D1bEAacc899A7"], //10
  base: ["0xa05A3380889115bf313f1Db9d5f335157Be4D816", "0x9ADA72CCbAfe94248aFaDE6B604D1bEAacc899A7"], //8453
  xdai: ["0xe0F010e465f15dcD42098dF9b99F1038c11B3056", "0xeFa6Ac3F931620fD0449eC8c619f2A14A0A78E99"], //100
  unichain: ["0xa05A3380889115bf313f1Db9d5f335157Be4D816", "0x9ADA72CCbAfe94248aFaDE6B604D1bEAacc899A7"], //130
  era: ["0x7F5e085981C93C579c865554B9b723B058AaE4D3", "0xbD82E5503461913a70566E66a454465a46F5C903"], //324
  mantle: ["0xe0F010e465f15dcD42098dF9b99F1038c11B3056", "0xeFa6Ac3F931620fD0449eC8c619f2A14A0A78E99"], //5000
  apechain: ["0xa05A3380889115bf313f1Db9d5f335157Be4D816", "0x9ADA72CCbAfe94248aFaDE6B604D1bEAacc899A7"], //33139
  scroll: ["0xa05A3380889115bf313f1Db9d5f335157Be4D816", "0x9ADA72CCbAfe94248aFaDE6B604D1bEAacc899A7"], //534352
  ink: ["0xa05A3380889115bf313f1Db9d5f335157Be4D816", "0x9ADA72CCbAfe94248aFaDE6B604D1bEAacc899A7"], //57073  
  berachain: ["0xa05A3380889115bf313f1Db9d5f335157Be4D816", "0x9ADA72CCbAfe94248aFaDE6B604D1bEAacc899A7"], //80094
  ronin: ["0xdCA40903E271Cc76AECd62dF8d6c19f3Ac873E64", "0x1FC1f47a6a7c61f53321643A14bEc044213AbF95"], //2020
  mode: ["0xeFa6Ac3F931620fD0449eC8c619f2A14A0A78E99", "0xD1daF260951B8d350a4AeD5C80d74Fd7298C93F4"], //34443
  zircuit: ["0xD0E86F280D26Be67A672d1bFC9bB70500adA76fe", "0x2Ec2b2CC1813941b638D3ADBA86A1af7F6488A9E"], //48900
  linea: ["0xc24dC29774fD2c1c0c5FA31325Bb9cbC11D8b751", "0xC1E5b7bE6c62948eeAb40523B33e5d0121ccae94"], //59144
  blast: ["0x9ADA72CCbAfe94248aFaDE6B604D1bEAacc899A7", "0x4e2bbbFb10058E0D248a78fe2F469562f4eDbe66"], //81457
  taiko: ["0x9ADA72CCbAfe94248aFaDE6B604D1bEAacc899A7", "0x4e2bbbFb10058E0D248a78fe2F469562f4eDbe66"], //167000
  sonic: ["0xa05A3380889115bf313f1Db9d5f335157Be4D816", "0x9ADA72CCbAfe94248aFaDE6B604D1bEAacc899A7"], //146

};

const tvl = async (api) => {
  const owners = SPOKES_BY_CHAIN[api.chain]
  const tokens = TOKENS_BY_CHAIN[api.chain]
  return api.sumTokens({ owners, tokens, });
};

module.exports = {
  methodology:
    "TVL counts all tokens held inside Everclear Spoke contracts (WETH, USDC, USDT, xPufETH).",
}

Object.keys(SPOKES_BY_CHAIN).forEach((chain) => module.exports[chain] = { tvl });
