module.exports=[760912,a=>{"use strict";let b,c,d;var e,f,g=a.i(28813),h=a.i(346280),i=a.i(109450),j=(a.i(135323),a.i(94702)),k=a.i(427699),l=a.i(241958),m=a.i(996840),n=a.i(31620),o=a.i(908578);a.i(157938);var p=a.i(693172),q=Object.defineProperty,r=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?q(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class s extends p.IEvents{constructor(a){super(),this.opts=a,r(this,"protocol","wc"),r(this,"version",2)}}var t=Object.defineProperty;class u extends p.IEvents{constructor(a,b){super(),this.core=a,this.logger=b,((a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?t(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c})(this,"records",new Map)}}class v extends p.IEvents{constructor(a,b){super(),this.relayer=a,this.logger=b}}class w extends p.IEvents{constructor(a){super()}}class x extends p.IEvents{constructor(a,b){super(),this.relayer=a,this.logger=b}}class y extends p.IEvents{constructor(a,b){super(),this.core=a,this.logger=b}}k.default;k.EventEmitter;var z=a.i(673620),A=a.i(920275),B=a.i(832819),C=a.i(15388),D=a.i(679628),E=a.i(741721);let F="2.23.2",G={getDocsUrl:({docsBaseUrl:a,docsPath:b="",docsSlug:c})=>b?`${a??"https://viem.sh"}${b}${c?`#${c}`:""}`:void 0,version:`viem@${F}`};(a,b)=>b.toString(16).padStart(2,"0");var H=a.i(448651);let I=BigInt(0x100000000-1),J=BigInt(32);var K=a.i(661419);let L=[],M=[],N=[],O=BigInt(0),P=BigInt(1),Q=BigInt(2),R=BigInt(7),S=BigInt(256),T=BigInt(113);for(let a=0,b=P,c=1,d=0;a<24;a++){[c,d]=[d,(2*c+3*d)%5],L.push(2*(5*d+c)),M.push((a+1)*(a+2)/2%64);let e=O;for(let a=0;a<7;a++)(b=(b<<P^(b>>R)*T)%S)&Q&&(e^=P<<(P<<BigInt(a))-P);N.push(e)}let[U,V]=function(a,b=!1){let c=new Uint32Array(a.length),d=new Uint32Array(a.length);for(let e=0;e<a.length;e++){let{h:f,l:g}=function(a,b=!1){return b?{h:Number(a&I),l:Number(a>>J&I)}:{h:0|Number(a>>J&I),l:0|Number(a&I)}}(a[e],b);[c[e],d[e]]=[f,g]}return[c,d]}(N,!0),W=(a,b,c)=>c>32?b<<c-32|a>>>64-c:a<<c|b>>>32-c,X=(a,b,c)=>c>32?a<<c-32|b>>>64-c:b<<c|a>>>32-c;class Y extends K.Hash{constructor(a,b,c,d=!1,e=24){if(super(),this.blockLen=a,this.suffix=b,this.outputLen=c,this.enableXOF=d,this.rounds=e,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,H.anumber)(c),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,K.u32)(this.state)}keccak(){K.isLE||(0,K.byteSwap32)(this.state32),function(a,b=24){let c=new Uint32Array(10);for(let d=24-b;d<24;d++){for(let b=0;b<10;b++)c[b]=a[b]^a[b+10]^a[b+20]^a[b+30]^a[b+40];for(let b=0;b<10;b+=2){let d=(b+8)%10,e=(b+2)%10,f=c[e],g=c[e+1],h=W(f,g,1)^c[d],i=X(f,g,1)^c[d+1];for(let c=0;c<50;c+=10)a[b+c]^=h,a[b+c+1]^=i}let b=a[2],e=a[3];for(let c=0;c<24;c++){let d=M[c],f=W(b,e,d),g=X(b,e,d),h=L[c];b=a[h],e=a[h+1],a[h]=f,a[h+1]=g}for(let b=0;b<50;b+=10){for(let d=0;d<10;d++)c[d]=a[b+d];for(let d=0;d<10;d++)a[b+d]^=~c[(d+2)%10]&c[(d+4)%10]}a[0]^=U[d],a[1]^=V[d]}c.fill(0)}(this.state32,this.rounds),K.isLE||(0,K.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(a){(0,H.aexists)(this);let{blockLen:b,state:c}=this,d=(a=(0,K.toBytes)(a)).length;for(let e=0;e<d;){let f=Math.min(b-this.pos,d-e);for(let b=0;b<f;b++)c[this.pos++]^=a[e++];this.pos===b&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:a,suffix:b,pos:c,blockLen:d}=this;a[c]^=b,(128&b)!=0&&c===d-1&&this.keccak(),a[d-1]^=128,this.keccak()}writeInto(a){(0,H.aexists)(this,!1),(0,H.abytes)(a),this.finish();let b=this.state,{blockLen:c}=this;for(let d=0,e=a.length;d<e;){this.posOut>=c&&this.keccak();let f=Math.min(c-this.posOut,e-d);a.set(b.subarray(this.posOut,this.posOut+f),d),this.posOut+=f,d+=f}return a}xofInto(a){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(a)}xof(a){return(0,H.anumber)(a),this.xofInto(new Uint8Array(a))}digestInto(a){if((0,H.aoutput)(a,this),this.finished)throw Error("digest() was already called");return this.writeInto(a),this.destroy(),a}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(a){let{blockLen:b,suffix:c,outputLen:d,rounds:e,enableXOF:f}=this;return a||(a=new Y(b,c,d,f,e)),a.state32.set(this.state32),a.pos=this.pos,a.posOut=this.posOut,a.finished=this.finished,a.rounds=e,a.suffix=c,a.outputLen=d,a.enableXOF=f,a.destroyed=this.destroyed,a}}(0,K.wrapConstructor)(()=>new Y(136,1,32));class Z extends Map{constructor(a){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=a}get(a){let b=super.get(a);return super.has(a)&&void 0!==b&&(this.delete(a),super.set(a,b)),b}set(a,b){if(super.set(a,b),this.maxSize&&this.size>this.maxSize){let a=this.keys().next().value;a&&this.delete(a)}return this}}(function(a){if(a.length>=255)throw TypeError("Alphabet too long");let b=new Uint8Array(256);for(let a=0;a<b.length;a++)b[a]=255;for(let c=0;c<a.length;c++){let d=a.charAt(c),e=d.charCodeAt(0);if(255!==b[e])throw TypeError(d+" is ambiguous");b[e]=c}let c=a.length,d=a.charAt(0),e=Math.log(c)/Math.log(256),f=Math.log(256)/Math.log(c);function g(a){if("string"!=typeof a)throw TypeError("Expected String");if(0===a.length)return new Uint8Array;let f=0,g=0,h=0;for(;a[f]===d;)g++,f++;let i=(a.length-f)*e+1>>>0,j=new Uint8Array(i);for(;f<a.length;){let d=a.charCodeAt(f);if(d>255)return;let e=b[d];if(255===e)return;let g=0;for(let a=i-1;(0!==e||g<h)&&-1!==a;a--,g++)e+=c*j[a]>>>0,j[a]=e%256>>>0,e=e/256>>>0;if(0!==e)throw Error("Non-zero carry");h=g,f++}let k=i-h;for(;k!==i&&0===j[k];)k++;let l=new Uint8Array(g+(i-k)),m=g;for(;k!==i;)l[m++]=j[k++];return l};})("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");a.i(78125);a.i(282800),a.i(864671),a.i(60611),a.i(73915);Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function $(a){if(!Number.isSafeInteger(a)||a<0)throw Error("positive integer expected, got "+a)}function _(a,...b){if(!(a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name))throw Error("Uint8Array expected");if(b.length>0&&!b.includes(a.length))throw Error("Uint8Array expected of length "+b+", got length="+a.length)}function aa(a){if("function"!=typeof a||"function"!=typeof a.create)throw Error("Hash should be wrapped by utils.wrapConstructor");$(a.outputLen),$(a.blockLen)}function ab(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function ac(a,b){_(a);let c=b.outputLen;if(a.length<c)throw Error("digestInto() expects output buffer of length at least "+c)}let ad=BigInt(0x100000000-1),ae=BigInt(32),af="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function ag(a){return new DataView(a.buffer,a.byteOffset,a.byteLength)}function ah(a,b){return a<<32-b|a>>>b}let ai=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function aj(a){for(let c=0;c<a.length;c++){var b;a[c]=(b=a[c])<<24&0xff000000|b<<8&0xff0000|b>>>8&65280|b>>>24&255}}function ak(a){return"string"==typeof a&&(a=function(a){if("string"!=typeof a)throw Error("utf8ToBytes expected string, got "+typeof a);return new Uint8Array(new TextEncoder().encode(a))}(a)),_(a),a}class al{clone(){return this._cloneInto()}}function am(a){let b=b=>a().update(ak(b)).digest(),c=a();return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=()=>a(),b}function an(a=32){if(af&&"function"==typeof af.getRandomValues)return af.getRandomValues(new Uint8Array(a));if(af&&"function"==typeof af.randomBytes)return af.randomBytes(a);throw Error("crypto.getRandomValues must be defined")}let ao=[],ap=[],aq=[],ar=BigInt(0),as=BigInt(1),at=BigInt(2),au=BigInt(7),av=BigInt(256),aw=BigInt(113);for(let a=0,b=as,c=1,d=0;a<24;a++){[c,d]=[d,(2*c+3*d)%5],ao.push(2*(5*d+c)),ap.push((a+1)*(a+2)/2%64);let e=ar;for(let a=0;a<7;a++)(b=(b<<as^(b>>au)*aw)%av)&at&&(e^=as<<(as<<BigInt(a))-as);aq.push(e)}let[ax,ay]=function(a,b=!1){let c=new Uint32Array(a.length),d=new Uint32Array(a.length);for(let e=0;e<a.length;e++){let{h:f,l:g}=function(a,b=!1){return b?{h:Number(a&ad),l:Number(a>>ae&ad)}:{h:0|Number(a>>ae&ad),l:0|Number(a&ad)}}(a[e],b);[c[e],d[e]]=[f,g]}return[c,d]}(aq,!0),az=(a,b,c)=>c>32?b<<c-32|a>>>64-c:a<<c|b>>>32-c,aA=(a,b,c)=>c>32?a<<c-32|b>>>64-c:b<<c|a>>>32-c;class aB extends al{constructor(a,b,c,d=!1,e=24){if(super(),this.blockLen=a,this.suffix=b,this.outputLen=c,this.enableXOF=d,this.rounds=e,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,$(c),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=function(a){return new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4))}(this.state)}keccak(){ai||aj(this.state32),function(a,b=24){let c=new Uint32Array(10);for(let d=24-b;d<24;d++){for(let b=0;b<10;b++)c[b]=a[b]^a[b+10]^a[b+20]^a[b+30]^a[b+40];for(let b=0;b<10;b+=2){let d=(b+8)%10,e=(b+2)%10,f=c[e],g=c[e+1],h=az(f,g,1)^c[d],i=aA(f,g,1)^c[d+1];for(let c=0;c<50;c+=10)a[b+c]^=h,a[b+c+1]^=i}let b=a[2],e=a[3];for(let c=0;c<24;c++){let d=ap[c],f=az(b,e,d),g=aA(b,e,d),h=ao[c];b=a[h],e=a[h+1],a[h]=f,a[h+1]=g}for(let b=0;b<50;b+=10){for(let d=0;d<10;d++)c[d]=a[b+d];for(let d=0;d<10;d++)a[b+d]^=~c[(d+2)%10]&c[(d+4)%10]}a[0]^=ax[d],a[1]^=ay[d]}c.fill(0)}(this.state32,this.rounds),ai||aj(this.state32),this.posOut=0,this.pos=0}update(a){ab(this);let{blockLen:b,state:c}=this,d=(a=ak(a)).length;for(let e=0;e<d;){let f=Math.min(b-this.pos,d-e);for(let b=0;b<f;b++)c[this.pos++]^=a[e++];this.pos===b&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:a,suffix:b,pos:c,blockLen:d}=this;a[c]^=b,(128&b)!=0&&c===d-1&&this.keccak(),a[d-1]^=128,this.keccak()}writeInto(a){ab(this,!1),_(a),this.finish();let b=this.state,{blockLen:c}=this;for(let d=0,e=a.length;d<e;){this.posOut>=c&&this.keccak();let f=Math.min(c-this.posOut,e-d);a.set(b.subarray(this.posOut,this.posOut+f),d),this.posOut+=f,d+=f}return a}xofInto(a){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(a)}xof(a){return $(a),this.xofInto(new Uint8Array(a))}digestInto(a){if(ac(a,this),this.finished)throw Error("digest() was already called");return this.writeInto(a),this.destroy(),a}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(a){let{blockLen:b,suffix:c,outputLen:d,rounds:e,enableXOF:f}=this;return a||(a=new aB(b,c,d,f,e)),a.state32.set(this.state32),a.pos=this.pos,a.posOut=this.posOut,a.finished=this.finished,a.rounds=e,a.suffix=c,a.outputLen=d,a.enableXOF=f,a.destroyed=this.destroyed,a}}am(()=>new aB(136,1,32));Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;a=>a?.split(":");function aC(a){if(!Number.isSafeInteger(a)||a<0)throw Error("positive integer expected, got "+a)}function aD(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name}function aE(a,...b){if(!aD(a))throw Error("Uint8Array expected");if(b.length>0&&!b.includes(a.length))throw Error("Uint8Array expected of length "+b+", got length="+a.length)}function aF(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function aG(a){if("boolean"!=typeof a)throw Error(`boolean expected, not ${a}`)}let aH=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4));if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");function aI(a){if("string"==typeof a)a=function(a){if("string"!=typeof a)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(a))}(a);else if(aD(a))a=aL(a);else throw Error("Uint8Array expected, got "+typeof a);return a}function aJ(a,b,c=!0){if(void 0===b)return new Uint8Array(a);if(b.length!==a)throw Error("invalid output length, expected "+a+", got: "+b.length);if(c&&b.byteOffset%4!=0)throw Error("invalid output, must be aligned");return b}function aK(a,b,c,d){if("function"==typeof a.setBigUint64)return a.setBigUint64(b,c,d);let e=BigInt(32),f=BigInt(0xffffffff),g=Number(c>>e&f),h=Number(c&f),i=4*!!d,j=4*!d;a.setUint32(b+i,g,d),a.setUint32(b+j,h,d)}function aL(a){return Uint8Array.from(a)}function aM(...a){for(let b=0;b<a.length;b++)a[b].fill(0)}let aN=a=>Uint8Array.from(a.split("").map(a=>a.charCodeAt(0))),aO=aN("expand 16-byte k"),aP=aN("expand 32-byte k"),aQ=aH(aO),aR=aH(aP);function aS(a,b){return a<<b|a>>>32-b}function aT(a){return a.byteOffset%4==0}let aU=0x100000000-1,aV=new Uint32Array,aW=(a,b)=>255&a[b++]|(255&a[b++])<<8;class aX{constructor(a){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,aE(a=aI(a),32);const b=aW(a,0),c=aW(a,2),d=aW(a,4),e=aW(a,6),f=aW(a,8),g=aW(a,10),h=aW(a,12),i=aW(a,14);this.r[0]=8191&b,this.r[1]=(b>>>13|c<<3)&8191,this.r[2]=(c>>>10|d<<6)&7939,this.r[3]=(d>>>7|e<<9)&8191,this.r[4]=(e>>>4|f<<12)&255,this.r[5]=f>>>1&8190,this.r[6]=(f>>>14|g<<2)&8191,this.r[7]=(g>>>11|h<<5)&8065,this.r[8]=(h>>>8|i<<8)&8191,this.r[9]=i>>>5&127;for(let b=0;b<8;b++)this.pad[b]=aW(a,16+2*b)}process(a,b,c=!1){let{h:d,r:e}=this,f=e[0],g=e[1],h=e[2],i=e[3],j=e[4],k=e[5],l=e[6],m=e[7],n=e[8],o=e[9],p=aW(a,b+0),q=aW(a,b+2),r=aW(a,b+4),s=aW(a,b+6),t=aW(a,b+8),u=aW(a,b+10),v=aW(a,b+12),w=aW(a,b+14),x=d[0]+(8191&p),y=d[1]+((p>>>13|q<<3)&8191),z=d[2]+((q>>>10|r<<6)&8191),A=d[3]+((r>>>7|s<<9)&8191),B=d[4]+((s>>>4|t<<12)&8191),C=d[5]+(t>>>1&8191),D=d[6]+((t>>>14|u<<2)&8191),E=d[7]+((u>>>11|v<<5)&8191),F=d[8]+((v>>>8|w<<8)&8191),G=d[9]+(w>>>5|2048*!c),H=0,I=0+x*f+5*o*y+5*n*z+5*m*A+5*l*B;H=I>>>13,I&=8191,I+=5*k*C+5*j*D+5*i*E+5*h*F+5*g*G,H+=I>>>13,I&=8191;let J=H+x*g+y*f+5*o*z+5*n*A+5*m*B;H=J>>>13,J&=8191,J+=5*l*C+5*k*D+5*j*E+5*i*F+5*h*G,H+=J>>>13,J&=8191;let K=H+x*h+y*g+z*f+5*o*A+5*n*B;H=K>>>13,K&=8191,K+=5*m*C+5*l*D+5*k*E+5*j*F+5*i*G,H+=K>>>13,K&=8191;let L=H+x*i+y*h+z*g+A*f+5*o*B;H=L>>>13,L&=8191,L+=5*n*C+5*m*D+5*l*E+5*k*F+5*j*G,H+=L>>>13,L&=8191;let M=H+x*j+y*i+z*h+A*g+B*f;H=M>>>13,M&=8191,M+=5*o*C+5*n*D+5*m*E+5*l*F+5*k*G,H+=M>>>13,M&=8191;let N=H+x*k+y*j+z*i+A*h+B*g;H=N>>>13,N&=8191,N+=C*f+5*o*D+5*n*E+5*m*F+5*l*G,H+=N>>>13,N&=8191;let O=H+x*l+y*k+z*j+A*i+B*h;H=O>>>13,O&=8191,O+=C*g+D*f+5*o*E+5*n*F+5*m*G,H+=O>>>13,O&=8191;let P=H+x*m+y*l+z*k+A*j+B*i;H=P>>>13,P&=8191,P+=C*h+D*g+E*f+5*o*F+5*n*G,H+=P>>>13,P&=8191;let Q=H+x*n+y*m+z*l+A*k+B*j;H=Q>>>13,Q&=8191,Q+=C*i+D*h+E*g+F*f+5*o*G,H+=Q>>>13,Q&=8191;let R=H+x*o+y*n+z*m+A*l+B*k;H=R>>>13,R&=8191,R+=C*j+D*i+E*h+F*g+G*f,H+=R>>>13,R&=8191,I=8191&(H=(H=(H<<2)+H|0)+I|0),H>>>=13,J+=H,d[0]=I,d[1]=J,d[2]=K,d[3]=L,d[4]=M,d[5]=N,d[6]=O,d[7]=P,d[8]=Q,d[9]=R}finalize(){let{h:a,pad:b}=this,c=new Uint16Array(10),d=a[1]>>>13;a[1]&=8191;for(let b=2;b<10;b++)a[b]+=d,d=a[b]>>>13,a[b]&=8191;a[0]+=5*d,d=a[0]>>>13,a[0]&=8191,a[1]+=d,d=a[1]>>>13,a[1]&=8191,a[2]+=d,c[0]=a[0]+5,d=c[0]>>>13,c[0]&=8191;for(let b=1;b<10;b++)c[b]=a[b]+d,d=c[b]>>>13,c[b]&=8191;c[9]-=8192;let e=(1^d)-1;for(let a=0;a<10;a++)c[a]&=e;e=~e;for(let b=0;b<10;b++)a[b]=a[b]&e|c[b];a[0]=(a[0]|a[1]<<13)&65535,a[1]=(a[1]>>>3|a[2]<<10)&65535,a[2]=(a[2]>>>6|a[3]<<7)&65535,a[3]=(a[3]>>>9|a[4]<<4)&65535,a[4]=(a[4]>>>12|a[5]<<1|a[6]<<14)&65535,a[5]=(a[6]>>>2|a[7]<<11)&65535,a[6]=(a[7]>>>5|a[8]<<8)&65535,a[7]=(a[8]>>>8|a[9]<<5)&65535;let f=a[0]+b[0];a[0]=65535&f;for(let c=1;c<8;c++)f=(a[c]+b[c]|0)+(f>>>16)|0,a[c]=65535&f;aM(c)}update(a){aF(this);let{buffer:b,blockLen:c}=this,d=(a=aI(a)).length;for(let e=0;e<d;){let f=Math.min(c-this.pos,d-e);if(f===c){for(;c<=d-e;e+=c)this.process(a,e);continue}b.set(a.subarray(e,e+f),this.pos),this.pos+=f,e+=f,this.pos===c&&(this.process(b,0,!1),this.pos=0)}return this}destroy(){aM(this.h,this.r,this.buffer,this.pad)}digestInto(a){aF(this),function(a,b){aE(a);let c=b.outputLen;if(a.length<c)throw Error("digestInto() expects output buffer of length at least "+c)}(a,this),this.finished=!0;let{buffer:b,h:c}=this,{pos:d}=this;if(d){for(b[d++]=1;d<16;d++)b[d]=0;this.process(b,0,!0)}this.finalize();let e=0;for(let b=0;b<8;b++)a[e++]=c[b]>>>0,a[e++]=c[b]>>>8;return a}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}}let aY=(e=a=>new aX(a),(b=(a,b)=>e(b).update(aI(a)).digest()).outputLen=(c=e(new Uint8Array(32))).outputLen,b.blockLen=c.blockLen,b.create=a=>e(a),b),aZ=function(a,b){let{allowShortKeys:c,extendNonceFn:d,counterLength:e,counterRight:f,rounds:g}=function(a,b){if(null==b||"object"!=typeof b)throw Error("options must be defined");return Object.assign(a,b)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},b);if("function"!=typeof a)throw Error("core must be a function");return aC(e),aC(g),aG(f),aG(c),(b,h,i,j,k=0)=>{aE(b),aE(h),aE(i);let l=i.length;if(void 0===j&&(j=new Uint8Array(l)),aE(j),aC(k),k<0||k>=aU)throw Error("arx: counter overflow");if(j.length<l)throw Error(`arx: output (${j.length}) is shorter than data (${l})`);let m=[],n=b.length,o,p;if(32===n)m.push(o=aL(b)),p=aR;else if(16===n&&c)(o=new Uint8Array(32)).set(b),o.set(b,16),p=aQ,m.push(o);else throw Error(`arx: invalid 32-byte key, got length=${n}`);aT(h)||m.push(h=aL(h));let q=aH(o);if(d){if(24!==h.length)throw Error("arx: extended nonce must be 24 bytes");d(p,q,aH(h.subarray(0,16)),q),h=h.subarray(16)}let r=16-e;if(r!==h.length)throw Error(`arx: nonce must be ${r} or 16 bytes`);if(12!==r){let a=new Uint8Array(12);a.set(h,f?0:12-h.length),h=a,m.push(h)}return function(a,b,c,d,e,f,g,h){let i=e.length,j=new Uint8Array(64),k=aH(j),l=aT(e)&&aT(f),m=l?aH(e):aV,n=l?aH(f):aV;for(let o=0;o<i;g++){if(a(b,c,d,k,g,h),g>=aU)throw Error("arx: counter overflow");let p=Math.min(64,i-o);if(l&&64===p){let a=o/4;if(o%4!=0)throw Error("arx: invalid block position");for(let b=0,c;b<16;b++)n[c=a+b]=m[c]^k[b];o+=64;continue}for(let a=0,b;a<p;a++)f[b=o+a]=e[b]^j[a];o+=p}}(a,p,q,aH(h),i,j,k,g),aM(...m),j}}(function(a,b,c,d,e,f=20){let g=a[0],h=a[1],i=a[2],j=a[3],k=b[0],l=b[1],m=b[2],n=b[3],o=b[4],p=b[5],q=b[6],r=b[7],s=c[0],t=c[1],u=c[2],v=g,w=h,x=i,y=j,z=k,A=l,B=m,C=n,D=o,E=p,F=q,G=r,H=e,I=s,J=t,K=u;for(let a=0;a<f;a+=2)D=D+(H=aS(H^(v=v+z|0),16))|0,v=v+(z=aS(z^D,12))|0,D=D+(H=aS(H^v,8))|0,z=aS(z^D,7),E=E+(I=aS(I^(w=w+A|0),16))|0,w=w+(A=aS(A^E,12))|0,E=E+(I=aS(I^w,8))|0,A=aS(A^E,7),F=F+(J=aS(J^(x=x+B|0),16))|0,x=x+(B=aS(B^F,12))|0,F=F+(J=aS(J^x,8))|0,B=aS(B^F,7),G=G+(K=aS(K^(y=y+C|0),16))|0,y=y+(C=aS(C^G,12))|0,G=G+(K=aS(K^y,8))|0,C=aS(C^G,7),F=F+(K=aS(K^(v=v+A|0),16))|0,v=v+(A=aS(A^F,12))|0,F=F+(K=aS(K^v,8))|0,A=aS(A^F,7),G=G+(H=aS(H^(w=w+B|0),16))|0,w=w+(B=aS(B^G,12))|0,G=G+(H=aS(H^w,8))|0,B=aS(B^G,7),D=D+(I=aS(I^(x=x+C|0),16))|0,x=x+(C=aS(C^D,12))|0,D=D+(I=aS(I^x,8))|0,C=aS(C^D,7),E=E+(J=aS(J^(y=y+z|0),16))|0,y=y+(z=aS(z^E,12))|0,E=E+(J=aS(J^y,8))|0,z=aS(z^E,7);let L=0;d[L++]=g+v|0,d[L++]=h+w|0,d[L++]=i+x|0,d[L++]=j+y|0,d[L++]=k+z|0,d[L++]=l+A|0,d[L++]=m+B|0,d[L++]=n+C|0,d[L++]=o+D|0,d[L++]=p+E|0,d[L++]=q+F|0,d[L++]=r+G|0,d[L++]=e+H|0,d[L++]=s+I|0,d[L++]=t+J|0,d[L++]=u+K|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),a$=new Uint8Array(16),a_=(a,b)=>{a.update(b);let c=b.length%16;c&&a.update(a$.subarray(c))},a0=new Uint8Array(32);function a1(a,b,c,d,e){let f=a(b,c,a0),g=aY.create(f);e&&a_(g,e),a_(g,d);let h=new Uint8Array(16),i=new DataView(h.buffer,h.byteOffset,h.byteLength);aK(i,0,BigInt(e?e.length:0),!0),aK(i,8,BigInt(d.length),!0),g.update(h);let j=g.digest();return aM(f,h),j}((a,b)=>{function c(d,...e){if(aE(d),void 0!==a.nonceLength){let b=e[0];if(!b)throw Error("nonce / iv required");a.varSizeNonce?aE(b):aE(b,a.nonceLength)}let f=a.tagLength;f&&void 0!==e[1]&&aE(e[1]);let g=b(d,...e),h=(a,b)=>{if(void 0!==b){if(2!==a)throw Error("cipher output not supported");aE(b)}},i=!1;return{encrypt(a,b){if(i)throw Error("cannot encrypt() twice with same key + nonce");return i=!0,aE(a),h(g.encrypt.length,b),g.encrypt(a,b)},decrypt(a,b){if(aE(a),f&&a.length<f)throw Error("invalid ciphertext length: smaller than tagLength="+f);return h(g.decrypt.length,b),g.decrypt(a,b)}}}return Object.assign(c,a)})({blockSize:64,nonceLength:12,tagLength:16},(a,b,c)=>({encrypt(d,e){let f=d.length;(e=aJ(f+16,e,!1)).set(d);let g=e.subarray(0,-16);aZ(a,b,g,g,1);let h=a1(aZ,a,b,g,c);return e.set(h,f),aM(h),e},decrypt(d,e){e=aJ(d.length-16,e,!1);let f=d.subarray(0,-16),g=d.subarray(-16),h=a1(aZ,a,b,f,c);if(!function(a,b){if(a.length!==b.length)return!1;let c=0;for(let d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c}(g,h))throw Error("invalid tag");return e.set(d.subarray(0,-16)),aZ(a,b,e,e,1),aM(h),e}}));class a2 extends al{constructor(a,b){super(),this.finished=!1,this.destroyed=!1,aa(a);const c=ak(b);if(this.iHash=a.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,e=new Uint8Array(d);e.set(c.length>d?a.create().update(c).digest():c);for(let a=0;a<e.length;a++)e[a]^=54;this.iHash.update(e),this.oHash=a.create();for(let a=0;a<e.length;a++)e[a]^=106;this.oHash.update(e),e.fill(0)}update(a){return ab(this),this.iHash.update(a),this}digestInto(a){ab(this),_(a,this.outputLen),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){let a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||(a=Object.create(Object.getPrototypeOf(this),{}));let{oHash:b,iHash:c,finished:d,destroyed:e,blockLen:f,outputLen:g}=this;return a.finished=d,a.destroyed=e,a.blockLen=f,a.outputLen=g,a.oHash=b._cloneInto(a.oHash),a.iHash=c._cloneInto(a.iHash),a}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let a3=(a,b,c)=>new a2(a,b).update(c).digest();a3.create=(a,b)=>new a2(a,b);new Uint8Array([0]),new Uint8Array;class a4 extends al{constructor(a,b,c,d){super(),this.blockLen=a,this.outputLen=b,this.padOffset=c,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(a),this.view=ag(this.buffer)}update(a){ab(this);let{view:b,buffer:c,blockLen:d}=this,e=(a=ak(a)).length;for(let f=0;f<e;){let g=Math.min(d-this.pos,e-f);if(g===d){let b=ag(a);for(;d<=e-f;f+=d)this.process(b,f);continue}c.set(a.subarray(f,f+g),this.pos),this.pos+=g,f+=g,this.pos===d&&(this.process(b,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){ab(this),ac(a,this),this.finished=!0;let{buffer:b,view:c,blockLen:d,isLE:e}=this,{pos:f}=this;b[f++]=128,this.buffer.subarray(f).fill(0),this.padOffset>d-f&&(this.process(c,0),f=0);for(let a=f;a<d;a++)b[a]=0;(function(a,b,c,d){if("function"==typeof a.setBigUint64)return a.setBigUint64(b,c,d);let e=BigInt(32),f=BigInt(0xffffffff),g=Number(c>>e&f),h=Number(c&f),i=4*!!d,j=4*!d;a.setUint32(b+i,g,d),a.setUint32(b+j,h,d)})(c,d-8,BigInt(8*this.length),e),this.process(c,0);let g=ag(a),h=this.outputLen;if(h%4)throw Error("_sha2: outputLen should be aligned to 32bit");let i=h/4,j=this.get();if(i>j.length)throw Error("_sha2: outputLen bigger than state");for(let a=0;a<i;a++)g.setUint32(4*a,j[a],e)}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());let{blockLen:b,buffer:c,length:d,finished:e,destroyed:f,pos:g}=this;return a.length=d,a.pos=g,a.finished=e,a.destroyed=f,d%b&&a.buffer.set(c),a}}let a5=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),a6=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),a7=new Uint32Array(64);class a8 extends a4{constructor(){super(64,32,8,!1),this.A=0|a6[0],this.B=0|a6[1],this.C=0|a6[2],this.D=0|a6[3],this.E=0|a6[4],this.F=0|a6[5],this.G=0|a6[6],this.H=0|a6[7]}get(){let{A:a,B:b,C:c,D:d,E:e,F:f,G:g,H:h}=this;return[a,b,c,d,e,f,g,h]}set(a,b,c,d,e,f,g,h){this.A=0|a,this.B=0|b,this.C=0|c,this.D=0|d,this.E=0|e,this.F=0|f,this.G=0|g,this.H=0|h}process(a,b){for(let c=0;c<16;c++,b+=4)a7[c]=a.getUint32(b,!1);for(let a=16;a<64;a++){let b=a7[a-15],c=a7[a-2],d=ah(b,7)^ah(b,18)^b>>>3,e=ah(c,17)^ah(c,19)^c>>>10;a7[a]=e+a7[a-7]+d+a7[a-16]|0}let{A:c,B:d,C:e,D:f,E:g,F:h,G:i,H:j}=this;for(let a=0;a<64;a++){var k,l,m,n;let b=j+(ah(g,6)^ah(g,11)^ah(g,25))+((k=g)&h^~k&i)+a5[a]+a7[a]|0,o=(ah(c,2)^ah(c,13)^ah(c,22))+((l=c)&(m=d)^l&(n=e)^m&n)|0;j=i,i=h,h=g,g=f+b|0,f=e,e=d,d=c,c=b+o|0}c=c+this.A|0,d=d+this.B|0,e=e+this.C|0,f=f+this.D|0,g=g+this.E|0,h=h+this.F|0,i=i+this.G|0,j=j+this.H|0,this.set(c,d,e,f,g,h,i,j)}roundClean(){a7.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let a9=am(()=>new a8),ba=BigInt(0),bb=BigInt(1),bc=BigInt(2);function bd(a){return a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name}function be(a){if(!bd(a))throw Error("Uint8Array expected")}function bf(a,b){if("boolean"!=typeof b)throw Error(a+" boolean expected, got "+b)}let bg=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));function bh(a){be(a);let b="";for(let c=0;c<a.length;c++)b+=bg[a[c]];return b}function bi(a){let b=a.toString(16);return 1&b.length?"0"+b:b}function bj(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);return""===a?ba:BigInt("0x"+a)}function bk(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}function bl(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);let b=a.length,c=b/2;if(b%2)throw Error("hex string expected, got unpadded hex of length "+b);let d=new Uint8Array(c);for(let b=0,e=0;b<c;b++,e+=2){let c=bk(a.charCodeAt(e)),f=bk(a.charCodeAt(e+1));if(void 0===c||void 0===f)throw Error('hex string expected, got non-hex character "'+(a[e]+a[e+1])+'" at index '+e);d[b]=16*c+f}return d}function bm(a){return bj(bh(a))}function bn(a){return be(a),bj(bh(Uint8Array.from(a).reverse()))}function bo(a,b){return bl(a.toString(16).padStart(2*b,"0"))}function bp(a,b){return bo(a,b).reverse()}function bq(a,b,c){let d;if("string"==typeof b)try{d=bl(b)}catch(b){throw Error(a+" must be hex string or Uint8Array, cause: "+b)}else if(bd(b))d=Uint8Array.from(b);else throw Error(a+" must be hex string or Uint8Array");let e=d.length;if("number"==typeof c&&e!==c)throw Error(a+" of length "+c+" expected, got "+e);return d}function br(...a){let b=0;for(let c=0;c<a.length;c++){let d=a[c];be(d),b+=d.length}let c=new Uint8Array(b);for(let b=0,d=0;b<a.length;b++){let e=a[b];c.set(e,d),d+=e.length}return c}let bs=a=>"bigint"==typeof a&&ba<=a;function bt(a,b,c){return bs(a)&&bs(b)&&bs(c)&&b<=a&&a<c}function bu(a,b,c,d){if(!bt(b,c,d))throw Error("expected valid "+a+": "+c+" <= n < "+d+", got "+b)}function bv(a){let b;for(b=0;a>ba;a>>=bb,b+=1);return b}let bw=a=>(bc<<BigInt(a-1))-bb,bx=a=>new Uint8Array(a);function by(a,b,c){if("number"!=typeof a||a<2)throw Error("hashLen must be a number");if("number"!=typeof b||b<2)throw Error("qByteLen must be a number");if("function"!=typeof c)throw Error("hmacFn must be a function");let d=bx(a),e=bx(a),f=0,g=()=>{d.fill(1),e.fill(0),f=0},h=(...a)=>c(e,d,...a),i=(a=bx())=>{let b,c;e=h((b=[0],Uint8Array.from(b)),a),d=h(),0!==a.length&&(e=h((c=[1],Uint8Array.from(c)),a),d=h())},j=()=>{if(f++>=1e3)throw Error("drbg: tried 1000 values");let a=0,c=[];for(;a<b;){let b=(d=h()).slice();c.push(b),a+=d.length}return br(...c)};return(a,b)=>{let c;for(g(),i(a);!(c=b(j()));)i();return g(),c}}let bz={bigint:a=>"bigint"==typeof a,function:a=>"function"==typeof a,boolean:a=>"boolean"==typeof a,string:a=>"string"==typeof a,stringOrUint8Array:a=>"string"==typeof a||bd(a),isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,b)=>b.Fp.isValid(a),hash:a=>"function"==typeof a&&Number.isSafeInteger(a.outputLen)};function bA(a,b,c={}){let d=(b,c,d)=>{let e=bz[c];if("function"!=typeof e)throw Error("invalid validator function");let f=a[b];if(!(d&&void 0===f)&&!e(f,a))throw Error("param "+String(b)+" is invalid. Expected "+c+", got "+f)};for(let[a,c]of Object.entries(b))d(a,c,!1);for(let[a,b]of Object.entries(c))d(a,b,!0);return a}function bB(a){let b=new WeakMap;return(c,...d)=>{let e=b.get(c);if(void 0!==e)return e;let f=a(c,...d);return b.set(c,f),f}}var bC=Object.freeze({__proto__:null,isBytes:bd,abytes:be,abool:bf,bytesToHex:bh,numberToHexUnpadded:bi,hexToNumber:bj,hexToBytes:bl,bytesToNumberBE:bm,bytesToNumberLE:bn,numberToBytesBE:bo,numberToBytesLE:bp,numberToVarBytesBE:function(a){return bl(bi(a))},ensureBytes:bq,concatBytes:br,equalBytes:function(a,b){if(a.length!==b.length)return!1;let c=0;for(let d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c},utf8ToBytes:function(a){if("string"!=typeof a)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(a))},inRange:bt,aInRange:bu,bitLen:bv,bitGet:function(a,b){return a>>BigInt(b)&bb},bitSet:function(a,b,c){return a|(c?bb:ba)<<BigInt(b)},bitMask:bw,createHmacDrbg:by,validateObject:bA,notImplemented:()=>{throw Error("not implemented")},memoized:bB});let bD=BigInt(0),bE=BigInt(1),bF=BigInt(2),bG=BigInt(3),bH=BigInt(4),bI=BigInt(5),bJ=BigInt(8);function bK(a,b){let c=a%b;return c>=bD?c:b+c}function bL(a,b,c){if(b<bD)throw Error("invalid exponent, negatives unsupported");if(c<=bD)throw Error("invalid modulus");if(c===bE)return bD;let d=bE;for(;b>bD;)b&bE&&(d=d*a%c),a=a*a%c,b>>=bE;return d}function bM(a,b,c){let d=a;for(;b-- >bD;)d*=d,d%=c;return d}function bN(a,b){if(a===bD)throw Error("invert: expected non-zero number");if(b<=bD)throw Error("invert: expected positive modulus, got "+b);let c=bK(a,b),d=b,e=bD,f=bE;for(;c!==bD;){let a=d/c,b=d%c,g=e-f*a;d=c,c=b,e=f,f=g}if(d!==bE)throw Error("invert: does not exist");return bK(e,b)}let bO=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function bP(a,b){let c=void 0!==b?b:a.toString(2).length,d=Math.ceil(c/8);return{nBitLength:c,nByteLength:d}}function bQ(a,b,c=!1,d={}){let e;if(a<=bD)throw Error("invalid field: expected ORDER > 0, got "+a);let{nBitLength:f,nByteLength:g}=bP(a,b);if(g>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let h=Object.freeze({ORDER:a,isLE:c,BITS:f,BYTES:g,MASK:bw(f),ZERO:bD,ONE:bE,create:b=>bK(b,a),isValid:b=>{if("bigint"!=typeof b)throw Error("invalid field element: expected bigint, got "+typeof b);return bD<=b&&b<a},is0:a=>a===bD,isOdd:a=>(a&bE)===bE,neg:b=>bK(-b,a),eql:(a,b)=>a===b,sqr:b=>bK(b*b,a),add:(b,c)=>bK(b+c,a),sub:(b,c)=>bK(b-c,a),mul:(b,c)=>bK(b*c,a),pow:(a,b)=>(function(a,b,c){if(c<bD)throw Error("invalid exponent, negatives unsupported");if(c===bD)return a.ONE;if(c===bE)return b;let d=a.ONE,e=b;for(;c>bD;)c&bE&&(d=a.mul(d,e)),e=a.sqr(e),c>>=bE;return d})(h,a,b),div:(b,c)=>bK(b*bN(c,a),a),sqrN:a=>a*a,addN:(a,b)=>a+b,subN:(a,b)=>a-b,mulN:(a,b)=>a*b,inv:b=>bN(b,a),sqrt:d.sqrt||(b=>(e||(e=function(a){if(a%bH===bG){let b=(a+bE)/bH;return function(a,c){let d=a.pow(c,b);if(!a.eql(a.sqr(d),c))throw Error("Cannot find square root");return d}}if(a%bJ===bI){let b=(a-bI)/bJ;return function(a,c){let d=a.mul(c,bF),e=a.pow(d,b),f=a.mul(c,e),g=a.mul(a.mul(f,bF),e),h=a.mul(f,a.sub(g,a.ONE));if(!a.eql(a.sqr(h),c))throw Error("Cannot find square root");return h}}return function(a){let b,c,d,e=(a-bE)/bF;for(b=a-bE,c=0;b%bF===bD;b/=bF,c++);for(d=bF;d<a&&bL(d,e,a)!==a-bE;d++)if(d>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===c){let b=(a+bE)/bH;return function(a,c){let d=a.pow(c,b);if(!a.eql(a.sqr(d),c))throw Error("Cannot find square root");return d}}let f=(b+bE)/bF;return function(a,g){if(a.pow(g,e)===a.neg(a.ONE))throw Error("Cannot find square root");let h=c,i=a.pow(a.mul(a.ONE,d),b),j=a.pow(g,f),k=a.pow(g,b);for(;!a.eql(k,a.ONE);){if(a.eql(k,a.ZERO))return a.ZERO;let b=1;for(let c=a.sqr(k);b<h&&!a.eql(c,a.ONE);b++)c=a.sqr(c);let c=a.pow(i,bE<<BigInt(h-b-1));i=a.sqr(c),j=a.mul(j,c),k=a.mul(k,i),h=b}return j}}(a)}(a)),e(h,b))),invertBatch:a=>{let b,c,d;return b=Array(a.length),c=a.reduce((a,c,d)=>h.is0(c)?a:(b[d]=a,h.mul(a,c)),h.ONE),d=h.inv(c),a.reduceRight((a,c,d)=>h.is0(c)?a:(b[d]=h.mul(a,b[d]),h.mul(a,c)),d),b},cmov:(a,b,c)=>c?b:a,toBytes:a=>c?bp(a,g):bo(a,g),fromBytes:a=>{if(a.length!==g)throw Error("Field.fromBytes: expected "+g+" bytes, got "+a.length);return c?bn(a):bm(a)}});return Object.freeze(h)}function bR(a){if("bigint"!=typeof a)throw Error("field order must be bigint");return Math.ceil(a.toString(2).length/8)}function bS(a){let b=bR(a);return b+Math.ceil(b/2)}let bT=BigInt(0),bU=BigInt(1);function bV(a,b){let c=b.negate();return a?c:b}function bW(a,b){if(!Number.isSafeInteger(a)||a<=0||a>b)throw Error("invalid window size, expected [1.."+b+"], got W="+a)}function bX(a,b){return bW(a,b),{windows:Math.ceil(b/a)+1,windowSize:2**(a-1)}}let bY=new WeakMap,bZ=new WeakMap;function b$(a){return bZ.get(a)||1}function b_(a){return bA(a.Fp,bO.reduce((a,b)=>(a[b]="function",a),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),bA(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...bP(a.n,a.nBitLength),...a,p:a.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);let b0=BigInt(0),b1=BigInt(1),b2=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);let b3=BigInt(1),b4=BigInt(2),b5=BigInt(3),b6=BigInt(5);BigInt(8);(function(a){let b=(bA(a,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...a})),{P:c}=b,d=a=>bK(a,c),e=b.montgomeryBits,f=Math.ceil(e/8),g=b.nByteLength,h=b.adjustScalarBytes||(a=>a),i=b.powPminus2||(a=>bL(a,c-BigInt(2),c));function j(a,b,c){let e=d(a*(b-c));return[b=d(b-e),c=d(c+e)]}let k=(b.a-BigInt(2))/BigInt(4);function l(a,b){let l,m=function(a,b){bu("u",a,b0,c),bu("scalar",b,b0,c);let f=b1,g=b0,h=a,l=b1,m=b0,n;for(let c=BigInt(e-1);c>=b0;c--){let e=b>>c&b1;m^=e,f=(n=j(m,f,h))[0],h=n[1],g=(n=j(m,g,l))[0],l=n[1],m=e;let i=f+g,o=d(i*i),p=f-g,q=d(p*p),r=o-q,s=h+l,t=d((h-l)*i),u=d(s*p),v=t+u,w=t-u;h=d(v*v),l=d(a*d(w*w)),f=d(o*q),g=d(r*(o+d(k*r)))}return f=(n=j(m,f,h))[0],h=n[1],g=(n=j(m,g,l))[0],l=n[1],d(f*i(g))}((l=bq("u coordinate",b,f),32===g&&(l[31]&=127),bn(l)),function(a){let b=bq("scalar",a),c=b.length;if(c!==f&&c!==g)throw Error("invalid scalar, expected "+(""+f+" or ")+g+" bytes, got "+c);return bn(h(b))}(a));if(m===b0)throw Error("invalid private or public key received");return bp(d(m),f)}let m=bp(d(b.Gu),f);function n(a){return l(a,m)};})({P:b2,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:a=>{let b,c,d,e,f,g,h,i,j,k,l,m,n,o,{pow_p_5_8:p,b2:q}=(b=BigInt(10),c=BigInt(20),d=BigInt(40),e=BigInt(80),g=bM(f=a*a%b2*a%b2,b4,b2)*f%b2,h=bM(g,b3,b2)*a%b2,i=bM(h,b6,b2)*h%b2,j=bM(i,b,b2)*i%b2,k=bM(j,c,b2)*j%b2,l=bM(k,d,b2)*k%b2,m=bM(l,e,b2)*l%b2,n=bM(m,e,b2)*l%b2,o=bM(n,b,b2)*i%b2,{pow_p_5_8:bM(o,b4,b2)*a%b2,b2:f});return bK(bM(p,b5,b2)*q,b2)},adjustScalarBytes:function(a){return a[0]&=248,a[31]&=127,a[31]|=64,a},randomBytes:an});function b7(a){void 0!==a.lowS&&bf("lowS",a.lowS),void 0!==a.prehash&&bf("prehash",a.prehash)}let{bytesToNumberBE:b8,hexToBytes:b9}=bC,ca={Err:class extends Error{constructor(a=""){super(a)}},_tlv:{encode:(a,b)=>{let{Err:c}=ca;if(a<0||a>256)throw new c("tlv.encode: wrong tag");if(1&b.length)throw new c("tlv.encode: unpadded data");let d=b.length/2,e=bi(d);if(e.length/2&128)throw new c("tlv.encode: long form length too big");let f=d>127?bi(e.length/2|128):"";return bi(a)+f+e+b},decode(a,b){let{Err:c}=ca,d=0;if(a<0||a>256)throw new c("tlv.encode: wrong tag");if(b.length<2||b[d++]!==a)throw new c("tlv.decode: wrong tlv");let e=b[d++],f=0;if(128&e){let a=127&e;if(!a)throw new c("tlv.decode(long): indefinite length not supported");if(a>4)throw new c("tlv.decode(long): byte length is too big");let g=b.subarray(d,d+a);if(g.length!==a)throw new c("tlv.decode: length bytes not complete");if(0===g[0])throw new c("tlv.decode(long): zero leftmost byte");for(let a of g)f=f<<8|a;if(d+=a,f<128)throw new c("tlv.decode(long): not minimal encoding")}else f=e;let g=b.subarray(d,d+f);if(g.length!==f)throw new c("tlv.decode: wrong value length");return{v:g,l:b.subarray(d+f)}}},_int:{encode(a){let{Err:b}=ca;if(a<cb)throw new b("integer: negative integers are not allowed");let c=bi(a);if(8&Number.parseInt(c[0],16)&&(c="00"+c),1&c.length)throw new b("unexpected DER parsing assertion: unpadded hex");return c},decode(a){let{Err:b}=ca;if(128&a[0])throw new b("invalid signature integer: negative");if(0===a[0]&&!(128&a[1]))throw new b("invalid signature integer: unnecessary leading zero");return b8(a)}},toSig(a){let{Err:b,_int:c,_tlv:d}=ca,e="string"==typeof a?b9(a):a;be(e);let{v:f,l:g}=d.decode(48,e);if(g.length)throw new b("invalid signature: left bytes after parsing");let{v:h,l:i}=d.decode(2,f),{v:j,l:k}=d.decode(2,i);if(k.length)throw new b("invalid signature: left bytes after parsing");return{r:c.decode(h),s:c.decode(j)}},hexFromSig(a){let{_tlv:b,_int:c}=ca,d=b.encode(2,c.encode(a.r)),e=b.encode(2,c.encode(a.s));return b.encode(48,d+e)}},cb=BigInt(0),cc=BigInt(1);BigInt(2);let cd=BigInt(3);BigInt(4);let ce=bQ(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),cf=(f={a:ce.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:ce,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},{...(d=a=>(function(a){let b,c=(bA(b=b_(a),{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...b})),{Fp:d,n:e}=c,f=d.BYTES+1,g=2*d.BYTES+1;function h(a){return bK(a,e)}let{ProjectivePoint:i,normPrivateKeyToScalar:j,weierstrassEquation:k,isWithinCurveOrder:l}=function(a){var b;let c=function(a){let b=b_(a);bA(b,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:c,Fp:d,a:e}=b;if(c){if(!d.eql(e,d.ZERO))throw Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof c||"bigint"!=typeof c.beta||"function"!=typeof c.splitScalar)throw Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...b})}(a),{Fp:d}=c,e=bQ(c.n,c.nBitLength),f=c.toBytes||((a,b,c)=>{let e=b.toAffine();return br(Uint8Array.from([4]),d.toBytes(e.x),d.toBytes(e.y))}),g=c.fromBytes||(a=>{let b=a.subarray(1);return{x:d.fromBytes(b.subarray(0,d.BYTES)),y:d.fromBytes(b.subarray(d.BYTES,2*d.BYTES))}});function h(a){let{a:b,b:e}=c,f=d.sqr(a),g=d.mul(f,a);return d.add(d.add(g,d.mul(a,b)),e)}if(!d.eql(d.sqr(c.Gy),h(c.Gx)))throw Error("bad generator point: equation left != right");function i(a){let b,{allowedPrivateKeyLengths:d,nByteLength:e,wrapPrivateKey:f,n:g}=c;if(d&&"bigint"!=typeof a){if(bd(a)&&(a=bh(a)),"string"!=typeof a||!d.includes(a.length))throw Error("invalid private key");a=a.padStart(2*e,"0")}try{b="bigint"==typeof a?a:bm(bq("private key",a,e))}catch{throw Error("invalid private key, expected hex or "+e+" bytes, got "+typeof a)}return f&&(b=bK(b,g)),bu("private key",b,cc,g),b}function j(a){if(!(a instanceof m))throw Error("ProjectivePoint expected")}let k=bB((a,b)=>{let{px:c,py:e,pz:f}=a;if(d.eql(f,d.ONE))return{x:c,y:e};let g=a.is0();null==b&&(b=g?d.ONE:d.inv(f));let h=d.mul(c,b),i=d.mul(e,b),j=d.mul(f,b);if(g)return{x:d.ZERO,y:d.ZERO};if(!d.eql(j,d.ONE))throw Error("invZ was invalid");return{x:h,y:i}}),l=bB(a=>{if(a.is0()){if(c.allowInfinityPoint&&!d.is0(a.py))return;throw Error("bad point: ZERO")}let{x:b,y:e}=a.toAffine();if(!d.isValid(b)||!d.isValid(e))throw Error("bad point: x or y not FE");let f=d.sqr(e),g=h(b);if(!d.eql(f,g))throw Error("bad point: equation left != right");if(!a.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});class m{constructor(a,b,c){if(this.px=a,this.py=b,this.pz=c,null==a||!d.isValid(a))throw Error("x required");if(null==b||!d.isValid(b))throw Error("y required");if(null==c||!d.isValid(c))throw Error("z required");Object.freeze(this)}static fromAffine(a){let{x:b,y:c}=a||{};if(!a||!d.isValid(b)||!d.isValid(c))throw Error("invalid affine point");if(a instanceof m)throw Error("projective point not allowed");let e=a=>d.eql(a,d.ZERO);return e(b)&&e(c)?m.ZERO:new m(b,c,d.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(a){let b=d.invertBatch(a.map(a=>a.pz));return a.map((a,c)=>a.toAffine(b[c])).map(m.fromAffine)}static fromHex(a){let b=m.fromAffine(g(bq("pointHex",a)));return b.assertValidity(),b}static fromPrivateKey(a){return m.BASE.multiply(i(a))}static msm(a,b){return function(a,b,c,d){if(function(a,b){if(!Array.isArray(a))throw Error("array expected");a.forEach((a,c)=>{if(!(a instanceof b))throw Error("invalid point at index "+c)})}(c,a),function(a,b){if(!Array.isArray(a))throw Error("array of scalars expected");a.forEach((a,c)=>{if(!b.isValid(a))throw Error("invalid scalar at index "+c)})}(d,b),c.length!==d.length)throw Error("arrays of points and scalars must have equal length");let e=a.ZERO,f=bv(BigInt(c.length)),g=f>12?f-3:f>4?f-2:f?2:1,h=(1<<g)-1,i=Array(h+1).fill(e),j=Math.floor((b.BITS-1)/g)*g,k=e;for(let a=j;a>=0;a-=g){i.fill(e);for(let b=0;b<d.length;b++){let e=Number(d[b]>>BigInt(a)&BigInt(h));i[e]=i[e].add(c[b])}let b=e;for(let a=i.length-1,c=e;a>0;a--)c=c.add(i[a]),b=b.add(c);if(k=k.add(b),0!==a)for(let a=0;a<g;a++)k=k.double()}return k}(m,e,a,b)}_setWindowSize(a){o.setWindowSize(this,a)}assertValidity(){l(this)}hasEvenY(){let{y:a}=this.toAffine();if(d.isOdd)return!d.isOdd(a);throw Error("Field doesn't support isOdd")}equals(a){j(a);let{px:b,py:c,pz:e}=this,{px:f,py:g,pz:h}=a,i=d.eql(d.mul(b,h),d.mul(f,e)),k=d.eql(d.mul(c,h),d.mul(g,e));return i&&k}negate(){return new m(this.px,d.neg(this.py),this.pz)}double(){let{a:a,b:b}=c,e=d.mul(b,cd),{px:f,py:g,pz:h}=this,i=d.ZERO,j=d.ZERO,k=d.ZERO,l=d.mul(f,f),n=d.mul(g,g),o=d.mul(h,h),p=d.mul(f,g);return p=d.add(p,p),k=d.mul(f,h),k=d.add(k,k),i=d.mul(a,k),j=d.mul(e,o),j=d.add(i,j),i=d.sub(n,j),j=d.add(n,j),j=d.mul(i,j),i=d.mul(p,i),k=d.mul(e,k),o=d.mul(a,o),p=d.sub(l,o),p=d.mul(a,p),p=d.add(p,k),k=d.add(l,l),l=d.add(k,l),l=d.add(l,o),l=d.mul(l,p),j=d.add(j,l),o=d.mul(g,h),o=d.add(o,o),l=d.mul(o,p),i=d.sub(i,l),k=d.mul(o,n),k=d.add(k,k),new m(i,j,k=d.add(k,k))}add(a){j(a);let{px:b,py:e,pz:f}=this,{px:g,py:h,pz:i}=a,k=d.ZERO,l=d.ZERO,n=d.ZERO,o=c.a,p=d.mul(c.b,cd),q=d.mul(b,g),r=d.mul(e,h),s=d.mul(f,i),t=d.add(b,e),u=d.add(g,h);t=d.mul(t,u),u=d.add(q,r),t=d.sub(t,u),u=d.add(b,f);let v=d.add(g,i);return u=d.mul(u,v),v=d.add(q,s),u=d.sub(u,v),v=d.add(e,f),k=d.add(h,i),v=d.mul(v,k),k=d.add(r,s),v=d.sub(v,k),n=d.mul(o,u),k=d.mul(p,s),n=d.add(k,n),k=d.sub(r,n),n=d.add(r,n),l=d.mul(k,n),r=d.add(q,q),r=d.add(r,q),s=d.mul(o,s),u=d.mul(p,u),r=d.add(r,s),s=d.sub(q,s),s=d.mul(o,s),u=d.add(u,s),q=d.mul(r,u),l=d.add(l,q),q=d.mul(v,u),k=d.mul(t,k),k=d.sub(k,q),q=d.mul(t,r),n=d.mul(v,n),new m(k,l,n=d.add(n,q))}subtract(a){return this.add(a.negate())}is0(){return this.equals(m.ZERO)}wNAF(a){return o.wNAFCached(this,a,m.normalizeZ)}multiplyUnsafe(a){let{endo:b,n:e}=c;bu("scalar",a,cb,e);let f=m.ZERO;if(a===cb)return f;if(this.is0()||a===cc)return this;if(!b||o.hasPrecomputes(this))return o.wNAFCachedUnsafe(this,a,m.normalizeZ);let{k1neg:g,k1:h,k2neg:i,k2:j}=b.splitScalar(a),k=f,l=f,n=this;for(;h>cb||j>cb;)h&cc&&(k=k.add(n)),j&cc&&(l=l.add(n)),n=n.double(),h>>=cc,j>>=cc;return g&&(k=k.negate()),i&&(l=l.negate()),l=new m(d.mul(l.px,b.beta),l.py,l.pz),k.add(l)}multiply(a){let b,e,{endo:f,n:g}=c;if(bu("scalar",a,cc,g),f){let{k1neg:c,k1:g,k2neg:h,k2:i}=f.splitScalar(a),{p:j,f:k}=this.wNAF(g),{p:l,f:n}=this.wNAF(i);j=o.constTimeNegate(c,j),l=o.constTimeNegate(h,l),l=new m(d.mul(l.px,f.beta),l.py,l.pz),b=j.add(l),e=k.add(n)}else{let{p:c,f:d}=this.wNAF(a);b=c,e=d}return m.normalizeZ([b,e])[0]}multiplyAndAddUnsafe(a,b,c){let d=m.BASE,e=(a,b)=>b!==cb&&b!==cc&&a.equals(d)?a.multiply(b):a.multiplyUnsafe(b),f=e(this,b).add(e(a,c));return f.is0()?void 0:f}toAffine(a){return k(this,a)}isTorsionFree(){let{h:a,isTorsionFree:b}=c;if(a===cc)return!0;if(b)return b(m,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:a,clearCofactor:b}=c;return a===cc?this:b?b(m,this):this.multiplyUnsafe(c.h)}toRawBytes(a=!0){return bf("isCompressed",a),this.assertValidity(),f(m,this,a)}toHex(a=!0){return bf("isCompressed",a),bh(this.toRawBytes(a))}}m.BASE=new m(c.Gx,c.Gy,d.ONE),m.ZERO=new m(d.ZERO,d.ONE,d.ZERO);let n=c.nBitLength,o=(b=c.endo?Math.ceil(n/2):n,{constTimeNegate:bV,hasPrecomputes:a=>1!==b$(a),unsafeLadder(a,b,c=m.ZERO){let d=a;for(;b>bT;)b&bU&&(c=c.add(d)),d=d.double(),b>>=bU;return c},precomputeWindow(a,c){let{windows:d,windowSize:e}=bX(c,b),f=[],g=a,h=g;for(let a=0;a<d;a++){h=g,f.push(h);for(let a=1;a<e;a++)h=h.add(g),f.push(h);g=h.double()}return f},wNAF(a,c,d){let{windows:e,windowSize:f}=bX(a,b),g=m.ZERO,h=m.BASE,i=BigInt(2**a-1),j=2**a,k=BigInt(a);for(let a=0;a<e;a++){let b=a*f,e=Number(d&i);d>>=k,e>f&&(e-=j,d+=bU);let l=b+Math.abs(e)-1,m=a%2!=0,n=e<0;0===e?h=h.add(bV(m,c[b])):g=g.add(bV(n,c[l]))}return{p:g,f:h}},wNAFUnsafe(a,c,d,e=m.ZERO){let{windows:f,windowSize:g}=bX(a,b),h=BigInt(2**a-1),i=2**a,j=BigInt(a);for(let a=0;a<f;a++){let b=a*g;if(d===bT)break;let f=Number(d&h);if(d>>=j,f>g&&(f-=i,d+=bU),0===f)continue;let k=c[b+Math.abs(f)-1];f<0&&(k=k.negate()),e=e.add(k)}return e},getPrecomputes(a,b,c){let d=bY.get(b);return d||(d=this.precomputeWindow(b,a),1!==a&&bY.set(b,c(d))),d},wNAFCached(a,b,c){let d=b$(a);return this.wNAF(d,this.getPrecomputes(d,a,c),b)},wNAFCachedUnsafe(a,b,c,d){let e=b$(a);return 1===e?this.unsafeLadder(a,b,d):this.wNAFUnsafe(e,this.getPrecomputes(e,a,c),b,d)},setWindowSize(a,c){bW(c,b),bZ.set(a,c),bY.delete(a)}});return{CURVE:c,ProjectivePoint:m,normPrivateKeyToScalar:i,weierstrassEquation:h,isWithinCurveOrder:function(a){return bt(a,cc,c.n)}}}({...c,toBytes(a,b,c){let e=b.toAffine(),f=d.toBytes(e.x);return bf("isCompressed",c),c?br(Uint8Array.from([b.hasEvenY()?2:3]),f):br(Uint8Array.from([4]),f,d.toBytes(e.y))},fromBytes(a){let b=a.length,c=a[0],e=a.subarray(1);if(b===f&&(2===c||3===c)){let a,b=bm(e);if(!bt(b,cc,d.ORDER))throw Error("Point is not on curve");let f=k(b);try{a=d.sqrt(f)}catch(a){throw Error("Point is not on curve"+(a instanceof Error?": "+a.message:""))}return(1&c)==1!=((a&cc)===cc)&&(a=d.neg(a)),{x:b,y:a}}if(b===g&&4===c)return{x:d.fromBytes(e.subarray(0,d.BYTES)),y:d.fromBytes(e.subarray(d.BYTES,2*d.BYTES))};throw Error("invalid Point, expected length of "+f+", or uncompressed "+g+", got "+b)}}),m=a=>bh(bo(a,c.nByteLength)),n=(a,b,c)=>bm(a.slice(b,c));class o{constructor(a,b,c){this.r=a,this.s=b,this.recovery=c,this.assertValidity()}static fromCompact(a){let b=c.nByteLength;return new o(n(a=bq("compactSignature",a,2*b),0,b),n(a,b,2*b))}static fromDER(a){let{r:b,s:c}=ca.toSig(bq("DER",a));return new o(b,c)}assertValidity(){bu("r",this.r,cc,e),bu("s",this.s,cc,e)}addRecoveryBit(a){return new o(this.r,this.s,a)}recoverPublicKey(a){let{r:b,s:f,recovery:g}=this,j=r(bq("msgHash",a));if(null==g||![0,1,2,3].includes(g))throw Error("recovery id invalid");let k=2===g||3===g?b+c.n:b;if(k>=d.ORDER)throw Error("recovery id 2 or 3 invalid");let l=(1&g)==0?"02":"03",n=i.fromHex(l+m(k)),o=bN(k,e),p=h(-j*o),q=h(f*o),s=i.BASE.multiplyAndAddUnsafe(n,p,q);if(!s)throw Error("point at infinify");return s.assertValidity(),s}hasHighS(){return this.s>e>>cc}normalizeS(){return this.hasHighS()?new o(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return bl(this.toDERHex())}toDERHex(){return ca.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return bl(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}function p(a){let b=bd(a),c="string"==typeof a,d=(b||c)&&a.length;return b?d===f||d===g:c?d===2*f||d===2*g:a instanceof i}let q=c.bits2int||function(a){if(a.length>8192)throw Error("input is too large");let b=bm(a),d=8*a.length-c.nBitLength;return d>0?b>>BigInt(d):b},r=c.bits2int_modN||function(a){return h(q(a))},s=bw(c.nBitLength);function t(a){return bu("num < 2^"+c.nBitLength,a,cb,s),bo(a,c.nByteLength)}let u={lowS:c.lowS,prehash:!1},v={lowS:c.lowS,prehash:!1};return i.BASE._setWindowSize(8),{CURVE:c,getPublicKey:function(a,b=!0){return i.fromPrivateKey(a).toRawBytes(b)},getSharedSecret:function(a,b,c=!0){if(p(a))throw Error("first arg must be private key");if(!p(b))throw Error("second arg must be public key");return i.fromHex(b).multiply(j(a)).toRawBytes(c)},sign:function(a,b,f=u){let{seed:g,k2sig:k}=function(a,b,f=u){if(["recovered","canonical"].some(a=>a in f))throw Error("sign() legacy options not supported");let{hash:g,randomBytes:k}=c,{lowS:m,prehash:n,extraEntropy:p}=f;null==m&&(m=!0),a=bq("msgHash",a),b7(f),n&&(a=bq("prehashed msgHash",g(a)));let s=r(a),v=j(b),w=[t(v),t(s)];if(null!=p&&!1!==p){let a=!0===p?k(d.BYTES):p;w.push(bq("extraEntropy",a))}return{seed:br(...w),k2sig:function(a){var b;let c=q(a);if(!l(c))return;let d=bN(c,e),f=i.BASE.multiply(c).toAffine(),g=h(f.x);if(g===cb)return;let j=h(d*h(s+g*v));if(j===cb)return;let k=2*(f.x!==g)|Number(f.y&cc),n=j;return m&&j>e>>cc&&(n=(b=j)>e>>cc?h(-b):b,k^=1),new o(g,n,k)}}}(a,b,f);return by(c.hash.outputLen,c.nByteLength,c.hmac)(g,k)},verify:function(a,b,d,f=v){let g,j;b=bq("msgHash",b),d=bq("publicKey",d);let{lowS:k,prehash:l,format:m}=f;if(b7(f),"strict"in f)throw Error("options.strict was renamed to lowS");if(void 0!==m&&"compact"!==m&&"der"!==m)throw Error("format must be compact or der");let n="string"==typeof a||bd(a),p=!n&&!m&&"object"==typeof a&&null!==a&&"bigint"==typeof a.r&&"bigint"==typeof a.s;if(!n&&!p)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(p&&(g=new o(a.r,a.s)),n){try{"compact"!==m&&(g=o.fromDER(a))}catch(a){if(!(a instanceof ca.Err))throw a}g||"der"===m||(g=o.fromCompact(a))}j=i.fromHex(d)}catch{return!1}if(!g||k&&g.hasHighS())return!1;l&&(b=c.hash(b));let{r:q,s:s}=g,t=r(b),u=bN(s,e),w=h(t*u),x=h(q*u),y=i.BASE.multiplyAndAddUnsafe(j,w,x)?.toAffine();return!!y&&h(y.x)===q},ProjectivePoint:i,Signature:o,utils:{isValidPrivateKey(a){try{return j(a),!0}catch{return!1}},normPrivateKeyToScalar:j,randomPrivateKey:()=>{let a=bS(c.n);return function(a,b,c=!1){let d=a.length,e=bR(b),f=bS(b);if(d<16||d<f||d>1024)throw Error("expected "+f+"-1024 bytes of input, got "+d);let g=bK(c?bn(a):bm(a),b-bE)+bE;return c?bp(g,e):bo(g,e)}(c.randomBytes(a),c.n)},precompute:(a=8,b=i.BASE)=>(b._setWindowSize(a),b.multiply(BigInt(3)),b)}}})({...f,hash:a,hmac:(b,...c)=>a3(a,b,function(...a){let b=0;for(let c=0;c<a.length;c++){let d=a[c];_(d),b+=d.length}let c=new Uint8Array(b);for(let b=0,d=0;b<a.length;b++){let e=a[b];c.set(e,d),d+=e.length}return c}(...c)),randomBytes:an}))(a9),create:d});Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;a.i(271137);a.i(258910);a.i(499963),a.i(517992),a.i(901631);let cg="core",ch=`wc@2:${cg}:`,ci=z.ONE_DAY,cj=z.SIX_HOURS,ck=(z.THIRTY_DAYS,z.FIVE_SECONDS,z.THIRTY_DAYS,{wc_pairingDelete:{req:{ttl:z.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:z.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:z.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:z.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:z.ONE_DAY,prompt:!1,tag:0},res:{ttl:z.ONE_DAY,prompt:!1,tag:0}}}),cl=(z.ONE_DAY,"https://verify.walletconnect.org"),cm=`${cl}/v3`;var cn=function(a,b){if(a.length>=255)throw TypeError("Alphabet too long");for(var c=new Uint8Array(256),d=0;d<c.length;d++)c[d]=255;for(var e=0;e<a.length;e++){var f=a.charAt(e),g=f.charCodeAt(0);if(255!==c[g])throw TypeError(f+" is ambiguous");c[g]=e}var h=a.length,i=a.charAt(0),j=Math.log(h)/Math.log(256),k=Math.log(256)/Math.log(h);function l(a){if("string"!=typeof a)throw TypeError("Expected String");if(0===a.length)return new Uint8Array;var b=0;if(" "!==a[0]){for(var d=0,e=0;a[b]===i;)d++,b++;for(var f=(a.length-b)*j+1>>>0,g=new Uint8Array(f);a[b];){var k=c[a.charCodeAt(b)];if(255===k)return;for(var l=0,m=f-1;(0!==k||l<e)&&-1!==m;m--,l++)k+=h*g[m]>>>0,g[m]=k%256>>>0,k=k/256>>>0;if(0!==k)throw Error("Non-zero carry");e=l,b++}if(" "!==a[b]){for(var n=f-e;n!==f&&0===g[n];)n++;for(var o=new Uint8Array(d+(f-n)),p=d;n!==f;)o[p++]=g[n++];return o}}}return{encode:function(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===b.length)return"";for(var c=0,d=0,e=0,f=b.length;e!==f&&0===b[e];)e++,c++;for(var g=(f-e)*k+1>>>0,j=new Uint8Array(g);e!==f;){for(var l=b[e],m=0,n=g-1;(0!==l||m<d)&&-1!==n;n--,m++)l+=256*j[n]>>>0,j[n]=l%h>>>0,l=l/h>>>0;if(0!==l)throw Error("Non-zero carry");d=m,e++}for(var o=g-d;o!==g&&0===j[o];)o++;for(var p=i.repeat(c);o<g;++o)p+=a.charAt(j[o]);return p},decodeUnsafe:l,decode:function(a){var c=l(a);if(c)return c;throw Error(`Non-${b} character`)}}};let co=a=>{if(a instanceof Uint8Array&&"Uint8Array"===a.constructor.name)return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw Error("Unknown type, must be binary type")};class cp{constructor(a,b,c){this.name=a,this.prefix=b,this.baseEncode=c}encode(a){if(a instanceof Uint8Array)return`${this.prefix}${this.baseEncode(a)}`;throw Error("Unknown type, must be binary type")}}class cq{constructor(a,b,c){if(this.name=a,this.prefix=b,void 0===b.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=b.codePointAt(0),this.baseDecode=c}decode(a){if("string"==typeof a){if(a.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(a)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(a.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(a){return cs(this,a)}}class cr{constructor(a){this.decoders=a}or(a){return cs(this,a)}decode(a){let b=a[0],c=this.decoders[b];if(c)return c.decode(a);throw RangeError(`Unable to decode multibase string ${JSON.stringify(a)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let cs=(a,b)=>new cr({...a.decoders||{[a.prefix]:a},...b.decoders||{[b.prefix]:b}});class ct{constructor(a,b,c,d){this.name=a,this.prefix=b,this.baseEncode=c,this.baseDecode=d,this.encoder=new cp(a,b,c),this.decoder=new cq(a,b,d)}encode(a){return this.encoder.encode(a)}decode(a){return this.decoder.decode(a)}}let cu=({name:a,prefix:b,encode:c,decode:d})=>new ct(a,b,c,d),cv=({prefix:a,name:b,alphabet:c})=>{let{encode:d,decode:e}=cn(c,b);return cu({prefix:a,name:b,encode:d,decode:a=>co(e(a))})},cw=({name:a,prefix:b,bitsPerChar:c,alphabet:d})=>cu({prefix:b,name:a,encode:a=>((a,b,c)=>{let d="="===b[b.length-1],e=(1<<c)-1,f="",g=0,h=0;for(let d=0;d<a.length;++d)for(h=h<<8|a[d],g+=8;g>c;)g-=c,f+=b[e&h>>g];if(g&&(f+=b[e&h<<c-g]),d)for(;f.length*c&7;)f+="=";return f})(a,d,c),decode:b=>((a,b,c,d)=>{let e={};for(let a=0;a<b.length;++a)e[b[a]]=a;let f=a.length;for(;"="===a[f-1];)--f;let g=new Uint8Array(f*c/8|0),h=0,i=0,j=0;for(let b=0;b<f;++b){let f=e[a[b]];if(void 0===f)throw SyntaxError(`Non-${d} character`);i=i<<c|f,(h+=c)>=8&&(h-=8,g[j++]=255&i>>h)}if(h>=c||255&i<<8-h)throw SyntaxError("Unexpected end of data");return g})(b,d,c,a)});var cx=Object.freeze({__proto__:null,identity:cu({prefix:"\0",name:"identity",encode:a=>new TextDecoder().decode(a),decode:a=>new TextEncoder().encode(a)})}),cy=Object.freeze({__proto__:null,base2:cw({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),cz=Object.freeze({__proto__:null,base8:cw({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),cA=Object.freeze({__proto__:null,base10:cv({prefix:"9",name:"base10",alphabet:"0123456789"})}),cB=Object.freeze({__proto__:null,base16:cw({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:cw({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})}),cC=Object.freeze({__proto__:null,base32:cw({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper:cw({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad:cw({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper:cw({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex:cw({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper:cw({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad:cw({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:cw({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:cw({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),cD=Object.freeze({__proto__:null,base36:cv({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:cv({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),cE=Object.freeze({__proto__:null,base58btc:cv({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:cv({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})}),cF=Object.freeze({__proto__:null,base64:cw({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad:cw({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:cw({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:cw({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let cG=Array.from(""),cH=cG.reduce((a,b,c)=>(a[c]=b,a),[]),cI=cG.reduce((a,b,c)=>(a[b.codePointAt(0)]=c,a),[]);var cJ=Object.freeze({__proto__:null,base256emoji:cu({prefix:"",name:"base256emoji",encode:function(a){return a.reduce((a,b)=>a+=cH[b],"")},decode:function(a){let b=[];for(let c of a){let a=cI[c.codePointAt(0)];if(void 0===a)throw Error(`Non-base256emoji character: ${c}`);b.push(a)}return new Uint8Array(b)}})});function cK(a,b,c){b=b||[],c=c||0;for(var d=c;a>=0x80000000;)b[c++]=255&a|128,a/=128;for(;-128&a;)b[c++]=255&a|128,a>>>=7;return b[c]=0|a,cK.bytes=c-d+1,b}var cL=function(a){return a<128?1:a<16384?2:a<2097152?3:a<0x10000000?4:a<0x800000000?5:a<0x40000000000?6:a<0x2000000000000?7:a<0x100000000000000?8:a<0x8000000000000000?9:10};let cM=(a,b,c=0)=>(cK(a,b,c),b),cN=(a,b)=>{let c=b.byteLength,d=cL(a),e=d+cL(c),f=new Uint8Array(e+c);return cM(a,f,0),cM(c,f,d),f.set(b,e),new cO(a,c,b,f)};class cO{constructor(a,b,c,d){this.code=a,this.size=b,this.digest=c,this.bytes=d}}let cP=({name:a,code:b,encode:c})=>new cQ(a,b,c);class cQ{constructor(a,b,c){this.name=a,this.code=b,this.encode=c}digest(a){if(a instanceof Uint8Array){let b=this.encode(a);return b instanceof Uint8Array?cN(this.code,b):b.then(a=>cN(this.code,a))}throw Error("Unknown type, must be binary type")}}let cR=a=>async b=>new Uint8Array(await crypto.subtle.digest(a,b));var cS=Object.freeze({__proto__:null,sha256:cP({name:"sha2-256",code:18,encode:cR("SHA-256")}),sha512:cP({name:"sha2-512",code:19,encode:cR("SHA-512")})}),cT=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:co,digest:a=>cN(0,co(a))}});new TextEncoder,new TextDecoder;let cU={...cx,...cy,...cz,...cA,...cB,...cC,...cD,...cE,...cF,...cJ};function cV(a,b,c,d){return{name:a,prefix:b,encoder:{name:a,prefix:b,encode:c},decoder:{decode:d}}}({...cS,...cT});let cW=cV("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>new TextEncoder().encode(a.substring(1))),cX=cV("ascii","a",a=>{let b="a";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},a=>{let b=function(a=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(a):new Uint8Array(a)}((a=a.substring(1)).length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}),cY={utf8:cW,"utf-8":cW,hex:cU.base16,latin1:cX,ascii:cX,binary:cX,...cU};Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let cZ="client",c$=`wc@2:${cZ}:`,c_=(z.THIRTY_DAYS,"Proposal expired"),c0=z.SEVEN_DAYS,c1={wc_sessionPropose:{req:{ttl:z.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:z.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:z.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:z.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:z.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:z.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:z.ONE_DAY,prompt:!1,tag:1104},res:{ttl:z.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:z.ONE_DAY,prompt:!1,tag:1106},res:{ttl:z.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:z.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:z.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:z.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:z.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:z.ONE_DAY,prompt:!1,tag:1112},res:{ttl:z.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:z.ONE_DAY,prompt:!1,tag:1114},res:{ttl:z.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:z.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:z.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:z.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:z.FIVE_MINUTES,prompt:!1,tag:1119}}},c2={min:z.FIVE_MINUTES,max:z.SEVEN_DAYS},c3={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},c4="wc@1.5:auth:",c5=`${c4}:PUB_KEY`;Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;a.i(419997);let c6="https://rpc.walletconnect.org/v1/",c7=`${c6}bundler`;Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var c8=a.i(883148);a.i(447649);a.i(37252);var c9=a.i(321590),da=(a.i(898965),a.i(473439)),db=a.i(602383),dc=a.i(977601),dd=a.i(252271),de=a.i(946665);let df={convertEVMChainIdToCoinType(a){if(a>=0x80000000)throw Error("Invalid chainId");return(0x80000000|a)>>>0}};var dg=a.i(82228),dh=a.i(929581),di=a.i(667625);let dj=(0,dd.proxy)({suggestions:[],loading:!1}),dk=(0,dh.withErrorBoundary)({state:dj,subscribe:a=>(0,dd.subscribe)(dj,()=>a(dj)),subscribeKey:(a,b)=>(0,de.subscribeKey)(dj,a,b),async resolveName(a){try{return await da.BlockchainApiController.lookupEnsName(a)}catch(a){throw Error(a?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(a){try{return await da.BlockchainApiController.lookupEnsName(a),!0}catch{return!1}},async getSuggestions(a){try{return dj.loading=!0,dj.suggestions=[],dj.suggestions=(await da.BlockchainApiController.getEnsNameSuggestions(a)).suggestions.map(a=>({...a,name:a.name}))||[],dj.suggestions}catch(a){throw Error(dk.parseEnsApiError(a,"Error fetching name suggestions"))}finally{dj.loading=!1}},async getNamesForAddress(a){try{if(!db.ChainController.state.activeCaipNetwork)return[];let b=dg.StorageUtil.getEnsFromCacheForAddress(a);if(b)return b;let c=await da.BlockchainApiController.reverseLookupEnsName({address:a});return dg.StorageUtil.updateEnsCache({address:a,ens:c,timestamp:Date.now()}),c}catch(a){throw Error(dk.parseEnsApiError(a,"Error fetching names for address"))}},async registerName(a){let b=db.ChainController.state.activeCaipNetwork;if(!b)throw Error("Network not found");let c=g.AccountController.state.address,d=i.ConnectorController.getAuthConnector();if(!c||!d)throw Error("Address or auth connector not found");dj.loading=!0;try{let d=JSON.stringify({name:a,attributes:{},timestamp:Math.floor(Date.now()/1e3)});di.RouterController.pushTransactionStack({onCancel(){di.RouterController.replace("RegisterAccountName")}});let e=await h.ConnectionController.signMessage(d);dj.loading=!1;let f=b.id;if(!f)throw Error("Network not found");let i=df.convertEVMChainIdToCoinType(Number(f));await da.BlockchainApiController.registerEnsName({coinType:i,address:c,signature:e,message:d}),g.AccountController.setProfileName(a,b.chainNamespace),di.RouterController.replace("RegisterAccountNameSuccess")}catch(c){let b=dk.parseEnsApiError(c,`Error registering name ${a}`);throw di.RouterController.replace("RegisterAccountName"),Error(b)}finally{dj.loading=!1}},validateName:a=>/^[a-zA-Z0-9-]{4,}$/u.test(a),parseEnsApiError:(a,b)=>a?.reasons?.[0]?.description||b});a.i(242528),a.i(786183);let dl={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},dm={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},dn={providers:dc.ONRAMP_PROVIDERS,selectedProvider:null,error:null,purchaseCurrency:dl,paymentCurrency:dm,purchaseCurrencies:[dl],paymentCurrencies:[],quotesLoading:!1},dp=(0,dd.proxy)(dn),dq=(0,dh.withErrorBoundary)({state:dp,subscribe:a=>(0,dd.subscribe)(dp,()=>a(dp)),subscribeKey:(a,b)=>(0,de.subscribeKey)(dp,a,b),setSelectedProvider(a){if(a&&"meld"===a.name){let b=db.ChainController.state.activeChain===c8.ConstantsUtil.CHAIN.SOLANA?"SOL":"USDC",c=g.AccountController.state.address??"",d=new URL(a.url);d.searchParams.append("publicKey",dc.MELD_PUBLIC_KEY),d.searchParams.append("destinationCurrencyCode",b),d.searchParams.append("walletAddress",c),d.searchParams.append("externalCustomerId",j.OptionsController.state.projectId),dp.selectedProvider={...a,url:d.toString()}}else dp.selectedProvider=a},setOnrampProviders(a){Array.isArray(a)&&a.every(a=>"string"==typeof a)?dp.providers=dc.ONRAMP_PROVIDERS.filter(b=>a.includes(b.name)):dp.providers=[]},setPurchaseCurrency(a){dp.purchaseCurrency=a},setPaymentCurrency(a){dp.paymentCurrency=a},setPurchaseAmount(a){dq.state.purchaseAmount=a},setPaymentAmount(a){dq.state.paymentAmount=a},async getAvailableCurrencies(){let a=await da.BlockchainApiController.getOnrampOptions();dp.purchaseCurrencies=a.purchaseCurrencies,dp.paymentCurrencies=a.paymentCurrencies,dp.paymentCurrency=a.paymentCurrencies[0]||dm,dp.purchaseCurrency=a.purchaseCurrencies[0]||dl,await c9.ApiController.fetchCurrencyImages(a.paymentCurrencies.map(a=>a.id)),await c9.ApiController.fetchTokenImages(a.purchaseCurrencies.map(a=>a.symbol))},async getQuote(){dp.quotesLoading=!0;try{let a=await da.BlockchainApiController.getOnrampQuote({purchaseCurrency:dp.purchaseCurrency,paymentCurrency:dp.paymentCurrency,amount:dp.paymentAmount?.toString()||"0",network:dp.purchaseCurrency?.symbol});return dp.quotesLoading=!1,dp.purchaseAmount=Number(a?.purchaseAmount.amount),a}catch(a){return dp.error=a.message,dp.quotesLoading=!1,null}finally{dp.quotesLoading=!1}},resetState(){dp.selectedProvider=null,dp.error=null,dp.purchaseCurrency=dl,dp.paymentCurrency=dm,dp.purchaseCurrencies=[dl],dp.paymentCurrencies=[],dp.paymentAmount=void 0,dp.purchaseAmount=void 0,dp.quotesLoading=!1}});a.i(284799),a.i(720214),a.i(411210),a.i(531657),a.i(371188);a.i(287862),a.i(974991),a.i(951028),a.i(639170),a.i(638183);let dr=Error("Cannot find module 'viem'");throw dr.code="MODULE_NOT_FOUND",dr}];

//# sourceMappingURL=node_modules_%40reown_appkit_dist_esm_exports_core_5ad3ab6d.js.map